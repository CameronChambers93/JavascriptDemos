{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?7e02","webpack:///./src/assets/black_pawn.png","webpack:///./src/assets/white_queen.png","webpack:///./src/components/BallDemo3D.vue?60e1","webpack:///./src/assets/white_pawn.png","webpack:///./src/assets/white_king.png","webpack:///./src/assets/white_knight.png","webpack:///./src/assets/black_knight.png","webpack:///./src/components/SpatialHashGridTester.js","webpack:///./src/App.vue?33c5","webpack:///./src/components/Chess.vue?73ea","webpack:///./src/components/Chess.js","webpack:///src/components/Chess.vue","webpack:///./src/components/Chess.vue?ae14","webpack:///./src/components/Chess.vue","webpack:///./src/components/BallDemo.vue?519d","webpack:///./src/components/math.js","webpack:///./src/components/SpatialHashGrid.js","webpack:///./src/components/BallDemo.js","webpack:///src/components/BallDemo.vue","webpack:///./src/components/BallDemo.vue?50e8","webpack:///./src/components/BallDemo.vue","webpack:///./src/components/BallDemo3DFlat.vue?f3c0","webpack:///./src/components/ViewPort.vue?5be0","webpack:///./src/components/BallDemo3DFlat.js","webpack:///src/components/ViewPort.vue","webpack:///./src/components/ViewPort.vue?41e4","webpack:///./src/components/ViewPort.vue","webpack:///./src/components/ControlPanel.vue?1a94","webpack:///src/components/ControlPanel.vue","webpack:///./src/components/ControlPanel.vue?9f33","webpack:///./src/components/ControlPanel.vue","webpack:///src/components/BallDemo3DFlat.vue","webpack:///./src/components/BallDemo3DFlat.vue?2c7c","webpack:///./src/components/BallDemo3DFlat.vue","webpack:///./src/components/BallDemo3D.vue?22f6","webpack:///./src/components/ViewPortNew.vue?7ebb","webpack:///./src/components/BallDemo3D.js","webpack:///src/components/ViewPortNew.vue","webpack:///./src/components/ViewPortNew.vue?b086","webpack:///./src/components/ViewPortNew.vue","webpack:///src/components/BallDemo3D.vue","webpack:///./src/components/BallDemo3D.vue?6f2e","webpack:///./src/components/BallDemo3D.vue","webpack:///./src/components/HashGridTester.vue?b54e","webpack:///src/components/HashGridTester.vue","webpack:///./src/components/HashGridTester.vue?835e","webpack:///./src/components/HashGridTester.vue","webpack:///src/App.vue","webpack:///./src/App.vue?1160","webpack:///./src/App.vue","webpack:///./src/registerServiceWorker.js","webpack:///./src/store.js","webpack:///./src/main.js","webpack:///./src/assets/white_bishop.png","webpack:///./src/components/ViewPort.vue?85b1","webpack:///./src/assets/black_queen.png","webpack:///./src/assets/black_king.png","webpack:///./src/assets/white_rook.png","webpack:///./src/components/BallDemo3DFlat.vue?0bd5","webpack:///./src/components/ControlPanel.vue?14ce","webpack:///./src/assets/black_rook.png","webpack:///./src/assets/black_bishop.png","webpack:///./src/components/ViewPortNew.vue?2f96"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","staticStyle","selection","_e","_v","_l","title","index","on","$event","_s","staticRenderFns","ref","click","showCoords","game","playerTurn","resetGame","pieces","blackKing","blackQueen","blackRook","blackBishop","blackKnight","blackPawn","whiteKing","whiteQueen","whiteRook","whiteBishop","whiteKnight","whitePawn","Piece","color","extendedMovement","image","Image","src","movements","Pawn","direction","hasMoved","isPawn","moves","King","isKing","Bishop","Rook","Knight","isKnight","Queen","Game","width","canvas","document","getElementById","tileWidth","tiles","tileSelected","lastMovement","playerInCheck","checkMate","drawBoard","initiatePieces","x","Math","floor","y","ctx","getContext","fillStyle","fillRect","fillTile","availableMoves","getAvailableMovements","isKingInCheck","isPlayerInCheckMate","values","piece","lPawnTestIndex","rPawnTestIndex","knightMovements","move","king","inCheckByPawn","inCheckByKnight","directions","cIndex","indexOf","tileStatus","checkTileStatus","oldIndex","tmpTile","illegalMove","abs","enPassant","killIndex","getEnPassantMovements","isMovementValid","checkLeftCastling","checkRightCastling","castle","rookFromIndex","rookToIndex","getAvailablePawnMovements","getAvailableKingMovements","newIndex","validMove","selectTileForMovement","moveIndex","map","e","executeMove","updateCheckStatus","deselect","drawPieces","moveTo","moveToIndex","clearRect","getCoordinatesFromIndex","x1","y1","x2","y2","drawImage","pType","addPiece","height","props","loaded","boardWidth","aiGame","computed","created","methods","runCastlingTest","runCheckMateTest","runCheckTest","offsetX","offsetY","resizeBoard","resize","component","setPieceSize","pieceSize","removePieceFromClient","pieceAmount","addPieceFromClient","resetGameFromClient","math","rand_range","a","b","random","rand_normalish","rand_int","round","lerp","smoothstep","smootherstep","clamp","min","max","sat","normalize","coords","z","sqrt","SpatialHashGrid","bounds","dimensions","_bounds","_dimensions","_cells","Map","position","owner","client","indices","_Insert","w","h","i1","_GetCellIndex","i2","xn","yn","k","_Key","Set","add","xIndex","yIndex","clients","v","RemoveClient","delete","SpatialHashGridFast","Array","_queryIds","nodes","_queryId","Remove","queryId","head","next","xi","prev","yi","node","SpatialHashGrid3D","zIndex","zn","zi","spatial_grid","SpatialHash_Crap","SpatialHash_Slow","SpatialHash_Fast","SpatialHash_3D","CANVAS_ID","colors","clock","id","grid","size","tail","tags","movement","NewClient","UpdateClient","dx","dy","checkForCollision","FindNear","isPieceOverlapping","tag","unit","tmp","getTagged","getDirectionTowardsUnit","from","to","pieceIdCounter","shouldReset","gameInterval","setInterval","gameLoop","tickRate","clearInterval","_Reset","executeMoves","beginPath","arc","PI","fill","sight","deg","cos","sin","count","collision","cellSize","console","log","units","decreaseSize","increaseSize","removeUnit","addUnit","resetDemo","colorNeedsUpdating","lastPiece","gameId","_size","default","type","Number","refreshInterval","currentGameId","reset","REMOVE_LAST_UNIT","mounted","BallDemo3DFlat","$emit","INIT","$el","offsetWidth","offsetHeight","el","addEventListener","beforeDestroy","RESET_STATE","directives","rawName","expression","domProps","isArray","axisLinesVisible","_i","toggleAxisLines","$$a","$$el","target","$$c","checked","$$v","$$i","concat","CAMERA_POSITION","resetCameraPosition","pyramidsVisible","SET_CAMERA_POSITION","RESET_CAMERA_ROTATION","HIDE_AXIS_LINES","SHOW_AXIS_LINES","togglePyramids","HIDE_PYRAMIDS","SHOW_PYRAMIDS","components","viewport","ViewPort","controls","ControlPanel","z1","z2","dz","tan","BallDemo3D","stop","results","rerun","_NUM_CLIENTS","_ITERATIONS","_CLIENT_BOUNDS","_CLIENT_DIMENSIONS","_CLIENT_POSITIONS","_CLIENT_QUERIES","_CLIENT_MOVES","GridTester","gridClass","_grid","_clients","queryBounds","startTime","performance","now","totalTime","GridTester3d","test","Promise","resolve","gridSlow","gridFast","grid3d","msg","Test_FindNearby","Test_Update","Chess","pages","event","register","process","ready","registered","cached","updatefound","updated","offline","error","Vue","use","Vuex","getDefaultState","camera","scene","renderer","axisLines","spheres","sphereIdPlusFactor","sphereIdMinusFactor","Store","state","getters","mutations","sphere","remove","geometry","material","assign","SET_VIEWPORT_SIZE","INITIALIZE_RENDERER","WebGLRenderer","antialias","setPixelRatio","devicePixelRatio","setSize","appendChild","domElement","INITIALIZE_CAMERA","PerspectiveCamera","INITIALIZE_CONTROLS","TrackballControls","rotateSpeed","zoomSpeed","panSpeed","noZoom","noPan","staticMoving","dynamicDampingFactor","keys","UPDATE_CONTROLS","update","INITIALIZE_SCENE","Scene","background","Color","SphereGeometry","MeshPhongMaterial","flatShading","mesh","Mesh","updateMatrix","matrixAutoUpdate","sphereIndex","lightA","DirectionalLight","set","lightB","lightC","AmbientLight","materialB","LineBasicMaterial","geometryB","Geometry","vertices","Vector3","lineA","Line","materialC","geometryC","lineB","materialD","geometryD","lineC","RESIZE","aspect","updateProjectionMatrix","handleResize","render","rotation","quaternion","up","HIDE_spheres","SHOW_spheres","SET_PIECES","UPDATE_FRAME","RESIZE_PIECES","REMOVE_UNIT","visible","pop","ADD_UNIT","actions","commit","SET_PIECE","ANIMATE","requestAnimationFrame","VueMaterial","config","productionTip","App","store","$mount"],"mappings":"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","file":"js/app.02fbca02.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/JavascriptDemos/dist/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","module.exports = __webpack_public_path__ + \"img/black_pawn.41d82a94.png\";","module.exports = __webpack_public_path__ + \"img/white_queen.ac545044.png\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BallDemo3D.vue?vue&type=style&index=0&lang=css&\"","module.exports = __webpack_public_path__ + \"img/white_pawn.6bc087c3.png\";","module.exports = __webpack_public_path__ + \"img/white_king.33ff5599.png\";","module.exports = __webpack_public_path__ + \"img/white_knight.321097b9.png\";","module.exports = __webpack_public_path__ + \"img/black_knight.30d1208a.png\";","import {math} from './math.js';\r\nimport {spatial_grid} from './SpatialHashGrid.js';\r\n\r\n// Testing harness\r\n\r\nconst _NUM_CLIENTS = 100000;\r\nconst _ITERATIONS = 10000;\r\n\r\nconst _CLIENT_BOUNDS = [[-1000.0, -1000.0, -1000.0], [1000.0, 1000.0, 1000.0]];\r\nconst _CLIENT_DIMENSIONS = [100, 100, 100];\r\n\r\nconst _CLIENT_POSITIONS = [];\r\nfor (let i = 0; i < _NUM_CLIENTS; ++i) {\r\n  _CLIENT_POSITIONS.push(\r\n      [\r\n          math.rand_range(_CLIENT_BOUNDS[0][0], _CLIENT_BOUNDS[1][0]),\r\n          math.rand_range(_CLIENT_BOUNDS[0][1], _CLIENT_BOUNDS[1][1]),\r\n          math.rand_range(_CLIENT_BOUNDS[0][2], _CLIENT_BOUNDS[1][2])\r\n      ]);\r\n}\r\n\r\nconst _CLIENT_QUERIES = [];\r\nfor (let i = 0; i < _ITERATIONS; ++i) {\r\n  const p = [\r\n      math.rand_range(_CLIENT_BOUNDS[0][0], _CLIENT_BOUNDS[1][0]),\r\n      math.rand_range(_CLIENT_BOUNDS[0][1], _CLIENT_BOUNDS[1][1]),\r\n      math.rand_range(_CLIENT_BOUNDS[0][2], _CLIENT_BOUNDS[1][2])];\r\n\r\n  _CLIENT_QUERIES.push(p);\r\n}\r\n\r\nconst _CLIENT_MOVES = [];\r\nfor (let i = 0; i < _NUM_CLIENTS; ++i) {\r\n  const p = [\r\n      Math.random(),\r\n      Math.random(),\r\n      Math.random()];\r\n\r\n  _CLIENT_MOVES.push(p);\r\n}\r\n\r\nclass GridTester {\r\n  constructor(gridClass) {\r\n    this._grid = new gridClass(_CLIENT_BOUNDS, _CLIENT_DIMENSIONS);\r\n\r\n    this._clients = [];\r\n    for (let i = 0; i < _NUM_CLIENTS; ++i) {\r\n      const client = this._grid.NewClient(\r\n          _CLIENT_POSITIONS[i], [15, 15]\r\n      );\r\n      this._clients.push(client);\r\n    }\r\n  }\r\n\r\n  Test_FindNearby() {\r\n    const queryBounds = [15, 15];\r\n\r\n    let startTime = performance.now();\r\n    for (let i = 0; i < _ITERATIONS; ++i) {\r\n      this._grid.FindNear([_CLIENT_QUERIES[i][0], _CLIENT_QUERIES[i][1]], queryBounds);\r\n    }\r\n    let totalTime = performance.now() - startTime;\r\n    return totalTime;\r\n  }\r\n\r\n  Test_Update() {\r\n    for (let i = 0; i < this._clients.length; ++i) {\r\n      const c = this._clients[i];\r\n      c.position[0] = _CLIENT_POSITIONS[i][0];\r\n      c.position[1] = _CLIENT_POSITIONS[i][1];\r\n      this._grid.UpdateClient(this._clients[i]);\r\n    }\r\n  \r\n    let startTime = performance.now();\r\n    for (let i = 0; i < this._clients.length; ++i) {\r\n      const c = this._clients[i];\r\n      c.position[0] += _CLIENT_MOVES[i][0];\r\n      c.position[1] += _CLIENT_MOVES[i][1];\r\n      this._grid.UpdateClient(this._clients[i]);\r\n    }\r\n    let totalTime = performance.now() - startTime;\r\n\r\n    return totalTime;\r\n  }\r\n}\r\n\r\n\r\nclass GridTester3d {\r\n  constructor(gridClass) {\r\n    this._grid = new gridClass(_CLIENT_BOUNDS, _CLIENT_DIMENSIONS);\r\n\r\n    this._clients = [];\r\n    for (let i = 0; i < _NUM_CLIENTS; ++i) {\r\n      const client = this._grid.NewClient(\r\n          _CLIENT_POSITIONS[i], [15, 15, 15]\r\n      );\r\n      this._clients.push(client);\r\n    }\r\n  }\r\n\r\n  Test_FindNearby() {\r\n    const queryBounds = [15, 15, 15];\r\n\r\n    let startTime = performance.now();\r\n    for (let i = 0; i < _ITERATIONS; ++i) {\r\n      this._grid.FindNear(_CLIENT_QUERIES[i], queryBounds);\r\n    }\r\n    let totalTime = performance.now() - startTime;\r\n    return totalTime;\r\n  }\r\n\r\n  Test_Update() {\r\n    for (let i = 0; i < this._clients.length; ++i) {\r\n      const c = this._clients[i];\r\n      c.position[0] = _CLIENT_POSITIONS[i][0];\r\n      c.position[1] = _CLIENT_POSITIONS[i][1];\r\n      c.position[2] = _CLIENT_POSITIONS[i][2];\r\n      this._grid.UpdateClient(this._clients[i]);\r\n    }\r\n  \r\n    let startTime = performance.now();\r\n    for (let i = 0; i < this._clients.length; ++i) {\r\n      const c = this._clients[i];\r\n      c.position[0] += _CLIENT_MOVES[i][0];\r\n      c.position[1] += _CLIENT_MOVES[i][1];\r\n      c.position[2] += _CLIENT_MOVES[i][2];\r\n      this._grid.UpdateClient(this._clients[i]);\r\n    }\r\n    let totalTime = performance.now() - startTime;\r\n\r\n    return totalTime;\r\n  }\r\n}\r\n\r\nexport default {\r\n    test: function() {\r\n        return new Promise(resolve => {\r\n            const gridSlow = new GridTester(spatial_grid.SpatialHash_Crap);\r\n            const gridFast = new GridTester(spatial_grid.SpatialHash_Fast);\r\n            const grid3d = new GridTester3d(spatial_grid.SpatialHash_3D);\r\n            let msg = \"\"\r\n            msg += 'Spatial Grid (Slow) - FindNearby: ' + gridSlow.Test_FindNearby() + 'ms<br>';\r\n            msg +='Spatial Grid (Fast) - FindNearby: ' + gridFast.Test_FindNearby() + 'ms<br>';\r\n            msg +='Spatial Grid (3D) - FindNearby: ' + grid3d.Test_FindNearby() + 'ms<br>';\r\n            msg += '----------------------------------<br>';\r\n            msg += 'Spatial Grid (Slow) - FindNearby: ' + gridSlow.Test_FindNearby() + 'ms<br>';\r\n            msg += 'Spatial Grid (Fast) - FindNearby: ' + gridFast.Test_FindNearby() + 'ms<br>';\r\n            msg += 'Spatial Grid (3D) - FindNearby: ' + grid3d.Test_FindNearby() + 'ms<br>';\r\n            \r\n            msg += '----------------------------------<br>';\r\n            msg += '----------------------------------<br>';\r\n            \r\n            msg += 'Spatial Grid (Slow) - Update: ' + gridSlow.Test_Update() + 'ms<br>';\r\n            msg += 'Spatial Grid (Fast) - Update: ' + gridFast.Test_Update() + 'ms<br>';\r\n            msg += 'Spatial Grid (3D) - Update: ' + grid3d.Test_Update() + 'ms<br>';\r\n            msg += '----------------------------------<br>';\r\n            msg += 'Spatial Grid (Slow) - Update: ' + gridSlow.Test_Update() + 'ms<br>';\r\n            msg += 'Spatial Grid (Fast) - Update: ' + gridFast.Test_Update() + 'ms<br>';\r\n            msg += 'Spatial Grid (3D) - Update: ' + grid3d.Test_Update() + 'ms<br>';\r\n            resolve(msg);\r\n        })\r\n    }\r\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('div',{staticClass:\"md-layout md-gutter\",staticStyle:{\"display\":\"flex\",\"flex-wrap\":\"wrap\",\"height\":\"100%\"}},[(_vm.selection =='BALL_DEMO')?_c('BallDemo',{staticClass:\"md-layout-item md-size-100\"}):_vm._e(),(_vm.selection == 'BALL_DEMO_3D')?_c('BallDemo3D',{staticClass:\"md-layout-item md-size-100\"}):_vm._e(),(_vm.selection == '3D_BALL_FLAT')?_c('BallDemo3DFlat',{staticClass:\"md-layout-item md-size-100\"}):_vm._e(),(_vm.selection == 'CHESS')?_c('Chess',{staticClass:\"md-layout-item md-size-100\"}):_vm._e(),(_vm.selection == 'HASH_GRID_TESTER')?_c('HashGridTester',{staticClass:\"md-layout-item md-size-100\"}):_vm._e(),(_vm.selection == 'MENU')?_c('div',{staticClass:\"md-layout-item md-size-100\"},[_c('h1',[_vm._v(\"Main Menu\")]),_c('div',_vm._l((_vm.pages),function(title,index){return _c('md-button',{key:index,on:{\"click\":function($event){_vm.selection=title}}},[_vm._v(_vm._s(title))])}),1)]):_c('div',{staticClass:\"md-layout-item md-size-100\"},[_c('md-button',{staticClass:\"md-primary\",on:{\"click\":function($event){_vm.selection='MENU'}}},[_vm._v(\"Return to Menu\")])],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"md-layout md-gutter\"},[_c('div',{staticClass:\"md-layout-item md-layout md-gutter md-alignment-top-center\"},[_c('div',{staticClass:\"md-layout-item md-size-60\",attrs:{\"id\":\"game-container\"}},[_c('canvas',{ref:\"chess\",staticStyle:{\"border\":\"1px solid black\"},attrs:{\"id\":\"chess\"},on:{\"click\":_vm.click,\"mousemove\":_vm.showCoords}}),(_vm.game != null)?_c('div',[_vm._v(\" Current Turn: \"+_vm._s(_vm.playerTurn)+\" \"),(_vm.game.checkMate)?_c('div',{staticStyle:{\"color\":\"red\"}},[_vm._v(\" Player is in checkmate \")]):_c('div',[(_vm.game.playerInCheck)?_c('div',{staticStyle:{\"color\":\"red\"}},[_vm._v(\" Player is in check \")]):_vm._e()]),_c('div',[(_vm.game)?_c('button',{on:{\"click\":function($event){return _vm.game.resetGame()}}},[_vm._v(\"Reset\")]):_c('button',[_vm._v(\"Reset\")])])]):_vm._e()])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import blackKing from '../assets/black_king.png'\r\nimport blackQueen from '../assets/black_queen.png'\r\nimport blackRook from '../assets/black_rook.png'\r\nimport blackBishop from '../assets/black_bishop.png'\r\nimport blackKnight from '../assets/black_knight.png'\r\nimport blackPawn from '../assets/black_pawn.png'\r\nimport whiteKing from '../assets/white_king.png'\r\nimport whiteQueen from '../assets/white_queen.png'\r\nimport whiteRook from '../assets/white_rook.png'\r\nimport whiteBishop from '../assets/white_bishop.png'\r\nimport whiteKnight from '../assets/white_knight.png'\r\nimport whitePawn from '../assets/white_pawn.png'\r\n\r\n\r\nconst pieces = {\r\n    'black_king': blackKing,\r\n    'black_queen': blackQueen,\r\n    'black_rook': blackRook,\r\n    'black_bishop': blackBishop,\r\n    'black_knight': blackKnight,\r\n    'black_pawn': blackPawn,\r\n    'white_king': whiteKing,\r\n    'white_queen': whiteQueen,\r\n    'white_rook': whiteRook,\r\n    'white_bishop': whiteBishop,\r\n    'white_knight': whiteKnight,\r\n    'white_pawn': whitePawn\r\n}\r\n\r\n// Color: 0 is black, 1 is white\r\nclass Piece{\r\n    constructor(name, color, index, extendedMovement) {\r\n        this.color = color;\r\n        this.index = index;\r\n        this.image = new Image();\r\n        this.image.src = pieces[name];\r\n        this.movements = []\r\n        this.extendedMovement = extendedMovement\r\n    }\r\n\r\n    moveTo(index) {\r\n        this.index = index;\r\n    }\r\n}\r\n\r\nclass Pawn extends Piece {\r\n    constructor(color, index) {\r\n        if (color) {\r\n            super('white_pawn', color, index, false);\r\n            this.direction = -1\r\n        }\r\n        else {\r\n            super('black_pawn', color, index, false);\r\n            this.direction = 1\r\n        }\r\n        this.hasMoved = false;\r\n        this.isPawn = true;\r\n    }\r\n\r\n    get movements() {\r\n        if (this.hasMoved)\r\n            return [1 * this.direction]\r\n        else\r\n            return [1 * this.direction, 2 * this.direction]\r\n    }\r\n\r\n    set movements(moves) {\r\n        return moves\r\n    }\r\n\r\n    moveTo(index) {\r\n        this.hasMoved = true;\r\n        this.index = index;\r\n    }\r\n}\r\n\r\nclass King extends Piece {\r\n    constructor(color, index) {\r\n        if (color) {\r\n            super('white_king', color, index, false);\r\n            this.hasMoved = false;\r\n        }\r\n        else {\r\n            super('black_king', color, index, false);\r\n            this.hasMoved = false;\r\n        }\r\n        this.isKing = true;\r\n        this.movements = [-1, 1, -16, 16, -17, -15, 15, 17]\r\n    }\r\n\r\n    moveTo(index) {\r\n        this.hasMoved = true;\r\n        this.index = index;\r\n    }\r\n}\r\n\r\nclass Bishop extends Piece {\r\n    constructor(color, index) {\r\n        if (color)\r\n            super('white_bishop', color, index, true);\r\n        else\r\n            super('black_bishop', color, index, true);\r\n        this.movements = [-17, -15, 15, 17]\r\n    }\r\n}\r\n\r\nclass Rook extends Piece {\r\n    constructor(color, index) {\r\n        if (color) {\r\n            super('white_rook', color, index, true);\r\n            this.hasMoved = false;\r\n        }\r\n        else {\r\n            super('black_rook', color, index, true);\r\n            this.hasMoved = false;\r\n        }\r\n        this.movements = [-1, 1, -16, 16]\r\n    }\r\n\r\n    moveTo(index) {\r\n        this.hasMoved = true;\r\n        this.index = index;\r\n    }\r\n}\r\n\r\nclass Knight extends Piece {\r\n    constructor(color, index) {\r\n        if (color)\r\n            super('white_knight', color, index, false);\r\n        else\r\n            super('black_knight', color, index, false);\r\n        this.isKnight = true;\r\n        this.movements = [18, -18, 33, -33, 14, -14, 31, -31]\r\n    }\r\n}\r\n\r\nclass Queen extends Piece {\r\n    constructor(color, index) {\r\n        if (color)\r\n            super('white_queen', color, index, true);\r\n        else\r\n            super('black_queen', color, index, true);\r\n        this.movements = [-1, 1, -16, 16, -17, -15, 15, 17]\r\n    }\r\n}\r\n\r\nclass Game{\r\n    constructor(width) {\r\n        this.canvas = document.getElementById('chess')\r\n        this.width = width;\r\n        this.tileWidth = width / 8;\r\n\r\n        this.tiles = {};\r\n        this.playerTurn = 0;\r\n        for (let i = 0; i < 8; i++) {\r\n            for (let j = 0; j < 8; j++) {\r\n                this.tiles[(i * 16) + j] = null\r\n            }\r\n        }\r\n        this.tileSelected = -1;\r\n        this.lastMovement = [0, 0]\r\n        this.playerInCheck = false;\r\n\r\n        this.checkMate = false;\r\n        this.whiteKing;\r\n        this.blackKing;\r\n        this.drawBoard();\r\n        this.initiatePieces();\r\n    }\r\n\r\n    fillTile(index, color) {\r\n        let x = Math.floor(index / 16);\r\n        let y = index % 16;\r\n        let ctx = this.canvas.getContext('2d');\r\n        ctx.fillStyle = color;\r\n        ctx.fillRect(x*this.tileWidth, y*this.tileWidth, this.tileWidth, this.tileWidth);\r\n    }\r\n\r\n    markTileAsAvailable(index) {\r\n        this.fillTile(index, '#ffff00')\r\n    }\r\n\r\n    resetTile(index) {\r\n        let x = Math.floor(index / 16);\r\n        let y = index % 16;\r\n        if ((x + y) % 2 == 0)\r\n            this.fillTile(index, '#ffffff');\r\n        else\r\n            this.fillTile(index, '#000000');\r\n    }\r\n\r\n    // Selects the piece at location 'index' to be moved\r\n    // Will mark available movements to be colored as such during next render\r\n    selectTileForMovement(index) {\r\n        this.tileSelected = index;\r\n        this.availableMoves = this.getAvailableMovements(index);\r\n    }\r\n\r\n    updateCheckStatus() {\r\n        if (this.isKingInCheck()) {\r\n            if (this.isPlayerInCheckMate())\r\n                this.checkMate = true;\r\n            this.playerInCheck = true;\r\n        }\r\n        else\r\n            this.playerInCheck = false;\r\n    }\r\n\r\n    isPlayerInCheckMate() {\r\n        for (const piece of Object.values(this.tiles)) {\r\n            if (piece) {\r\n                if (piece.color == this.playerTurn) {\r\n                    this.tileSelected = piece.index;\r\n                    if (this.getAvailableMovements(piece.index).length) {\r\n                        this.tileSelected = -1;\r\n                        return false\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        this.tileSelected = -1;\r\n        return true;\r\n    }\r\n\r\n    inCheckByPawn(index) {\r\n        let lPawnTestIndex = index - 16 + (this.playerTurn ? -1 : 1)\r\n        let rPawnTestIndex = index + 16 + (this.playerTurn ? -1 : 1)\r\n        if (this.tiles[lPawnTestIndex])\r\n            if (this.tiles[lPawnTestIndex].color != this.playerTurn)\r\n                if (this.tiles[lPawnTestIndex].isPawn)\r\n                    return true;\r\n        if (this.tiles[rPawnTestIndex])\r\n            if (this.tiles[rPawnTestIndex].color != this.playerTurn)\r\n                if (this.tiles[rPawnTestIndex].isPawn)\r\n                    return true;\r\n    }\r\n\r\n    inCheckByKnight(index) {\r\n        let knightMovements = [18, -18, 33, -33, 14, -14, 31, -31];\r\n        for (const move of knightMovements) {\r\n            if (this.tiles[index + move]) {\r\n                if (this.tiles[index + move].color != this.playerTurn)\r\n                    if (this.tiles[index + move].isKnight) {\r\n                        return true\r\n                    }\r\n            }\r\n        }\r\n    }\r\n\r\n    isKingInCheck() {\r\n        let king;\r\n        (this.playerTurn) ? king = this.whiteKing : king = this.blackKing;\r\n        let index = king.index;\r\n        \r\n        if (this.inCheckByPawn(index))\r\n            return true;\r\n        if (this.inCheckByKnight(index))\r\n            return true;\r\n\r\n        let directions = [-17, -16, -15, -1, 1, 15, 16, 17];\r\n        for (const direction of directions) {\r\n            let cIndex = index + direction;\r\n            while (cIndex in this.tiles)\r\n                if (!this.tiles[cIndex])\r\n                    cIndex += direction\r\n                else if (this.tiles[cIndex].color == this.playerTurn)\r\n                    cIndex = -1\r\n                else\r\n                    if (this.tiles[cIndex].extendedMovement) {\r\n                        if (this.tiles[cIndex].movements.indexOf(direction) != -1)\r\n                            return true\r\n                        else\r\n                            cIndex = -1\r\n                    }\r\n                    else\r\n                        cIndex = -1\r\n        }\r\n        return false;\r\n    }\r\n\r\n    // -1 if tile contains current player's piece\r\n    // 0 if tile is empty\r\n    // 1 if tile contains opponents piece\r\n    checkTileStatus(index) {\r\n        if (this.tiles[index]) {\r\n            if (this.tiles[index].color == this.playerTurn)\r\n                return -1\r\n            else\r\n                return 1\r\n        }\r\n        else {\r\n            return 0\r\n        }\r\n    }\r\n\r\n    isMovementValid(index) {\r\n        if (index < 0 || index > 119 || index % 16 > 7)\r\n            return -1\r\n        let tileStatus = this.checkTileStatus(index);\r\n        let oldIndex = this.tileSelected;\r\n        if (tileStatus == -1)   // Player's own piece occupies the space\r\n            return -1\r\n        let tmpTile = this.tiles[index];    // Store what's currently in the desired index\r\n        this.tiles[oldIndex].index = index;     // Update index on piece before move\r\n        this.tiles[index] = this.tiles[oldIndex];   // Move piece\r\n        this.tiles[oldIndex] = null\r\n        let illegalMove = this.isKingInCheck(); // Check for illegal move\r\n        this.tiles[oldIndex] = this.tiles[index];\r\n        this.tiles[oldIndex].index = oldIndex;\r\n        this.tiles[index] = tmpTile;\r\n        if (illegalMove)\r\n            return -1\r\n        else\r\n            return tileStatus\r\n    }\r\n\r\n    getEnPassantMovements(index) {\r\n        if (this.tiles[this.lastMovement[1]].isPawn) {\r\n            if (this.lastMovement[1] == (index - 16) || this.lastMovement[1] == (index + 16)) {\r\n                if (Math.abs(this.lastMovement[1] - this.lastMovement[0]) == 2)\r\n                    return [{index: this.lastMovement[1] + this.tiles[index].direction, enPassant: true, killIndex: this.lastMovement[1]}]\r\n            }\r\n        }\r\n        return []\r\n    }\r\n\r\n    getAvailablePawnMovements(index) {\r\n        let moves = [];\r\n        moves.push(...this.getEnPassantMovements(index));\r\n        let direction = this.tiles[index].direction;\r\n        if (this.isMovementValid(index + direction) == 0) \r\n            moves.push({index: index + direction})\r\n        if (this.checkTileStatus(index + direction) == 0 && this.tiles[index].hasMoved == false && this.isMovementValid(index + (2 * direction)) == 0)\r\n            moves.push({index: index + (2 * direction)});\r\n        if (this.isMovementValid(index - 16 + direction) == 1)\r\n            moves.push({index: index - 16 + direction});\r\n        if (this.isMovementValid(index + 16 + direction) == 1)\r\n            moves.push({index: index + 16 + direction})\r\n        return moves\r\n    }\r\n\r\n    getAvailableKingMovements(index) {\r\n        if (this.playerInCheck)\r\n            return []\r\n        let moves = []\r\n        if (this.tiles[index].hasMoved == false) {\r\n            moves.push(...this.checkLeftCastling(index))\r\n            moves.push(...this.checkRightCastling(index))\r\n        }\r\n        return moves\r\n    }\r\n\r\n    checkLeftCastling(index) {\r\n        if (!this.tiles[index - 16])\r\n            if (!this.tiles[index - 32])\r\n                if (!this.tiles[index - 48])\r\n                    return [{index: index - 32, castle: true, rookFromIndex: index - 64, rookToIndex: index - 16}]\r\n        return []\r\n    }\r\n\r\n    checkRightCastling(index) {\r\n        if (!this.tiles[index + 16]) {\r\n            if (!this.tiles[index + 32])\r\n                return [{index: index + 32, castle: true, rookFromIndex: index + 48, rookToIndex: index + 16}]\r\n        }\r\n        return []\r\n    }\r\n\r\n    getAvailableMovements(index) {\r\n        if (this.tiles[index].isPawn)\r\n            return this.getAvailablePawnMovements(index)\r\n        else {\r\n            let moves = [];\r\n            if (this.tiles[index].isKing)\r\n                moves.push(...this.getAvailableKingMovements(index))    \r\n            for (const move of this.tiles[index].movements) {\r\n                let newIndex = index + move;\r\n                if (this.checkTileStatus(newIndex) == 0) {  // Checks if tile is empty - needed to handle branch involving checkmate logic\r\n                    if (this.isMovementValid(newIndex) == 0)\r\n                        moves.push({index: newIndex});\r\n                    newIndex += move;\r\n                    if (this.tiles[index].extendedMovement) {   // Only needed currently to distinguish 'knight' pieces - Remove this\r\n                        while (newIndex in this.tiles) {\r\n                            let validMove = this.isMovementValid(newIndex)\r\n                            if (validMove == 0) {\r\n                                moves.push({index: newIndex});\r\n                                newIndex += move;\r\n                            }\r\n                            else if (validMove == 1) {\r\n                                moves.push({index: newIndex});\r\n                                newIndex = -1;\r\n                            }\r\n                            else {\r\n                                if (this.checkTileStatus(newIndex) == 0)    // If tile is empty but movement is invalid i.e. player is in check\r\n                                    newIndex += move;\r\n                                else\r\n                                    newIndex = -1;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                else if (this.isMovementValid(newIndex) == 1)\r\n                    moves.push({index: newIndex});\r\n            }\r\n            return moves\r\n        }\r\n    }\r\n\r\n    deselect() {\r\n        this.tileSelected = -1;\r\n        this.availableMoves = [];\r\n    }\r\n\r\n    click(index) {\r\n        if (this.tileSelected == -1) {\r\n            if (this.tiles[index] && (this.tiles[index].color == this.playerTurn)) {\r\n                this.selectTileForMovement(index);\r\n            }\r\n        }\r\n        else {\r\n            let moveIndex = this.availableMoves.map((e) => {return e.index}).indexOf(index) // Look for selected tile within 'available moves' \r\n            if (moveIndex != -1) {\r\n                this.executeMove(this.availableMoves[moveIndex])\r\n                this.playerTurn = (this.playerTurn + 1) % 2;\r\n                this.updateCheckStatus();\r\n            }\r\n            this.deselect();\r\n        }\r\n        this.drawBoard();\r\n        this.drawPieces();\r\n    }\r\n\r\n    executeMove(move) {\r\n        if (move.castle) {\r\n            this.tiles[move.rookFromIndex].moveTo(move.rookToIndex);\r\n            this.tiles[move.rookToIndex] = this.tiles[move.rookFromIndex];\r\n            this.tiles[move.rookFromIndex] = null;\r\n        }\r\n        if (move.enPassant) {\r\n            this.tiles[move.killIndex] = null;\r\n        }\r\n        this.moveToIndex(move.index);\r\n    }\r\n\r\n    moveToIndex(index) {\r\n        this.lastMovement = [this.tileSelected, index]\r\n        this.tiles[this.tileSelected].moveTo(index);\r\n        this.tiles[index] = this.tiles[this.tileSelected];\r\n        this.tiles[this.tileSelected] = null;\r\n    }\r\n\r\n    getCoordinatesFromIndex(index) {\r\n        let x = Math.floor(index / 16);\r\n        let y = index % 16;\r\n        return [x,y]\r\n    }\r\n\r\n    drawBoard() {\r\n        let tileWidth = this.width / 8;\r\n        let ctx = this.canvas.getContext('2d');\r\n        ctx.clearRect(0, 0, this.width, this.width);    // Clear the board (paints it white)\r\n        ctx.fillStyle = \"#000000\";  // black\r\n        for (let x = 0; x < 8; x++) {\r\n            for (let y = 0; y < 8; y++) {\r\n                if ((x + y) % 2 == 1) {     // Tile is black\r\n                    ctx.fillRect(x*tileWidth, y*tileWidth, tileWidth, tileWidth);\r\n                }\r\n            }\r\n        }\r\n\r\n        if (this.tileSelected != -1) {\r\n            ctx.fillStyle = \"#fff000\";  // yellow\r\n            let [x1, y1] = this.getCoordinatesFromIndex(this.tileSelected);\r\n            ctx.fillRect(x1*this.tileWidth, y1*this.tileWidth, this.tileWidth, this.tileWidth);\r\n            for (const index of this.availableMoves.map((e) => {return e.index})) {\r\n                ctx.fillStyle = \"#20ff00\";  // green\r\n                let [x2, y2] = this.getCoordinatesFromIndex(index);\r\n                ctx.fillRect(x2*this.tileWidth, y2*this.tileWidth, this.tileWidth, this.tileWidth);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\n    drawPieces() {\r\n        let ctx = this.canvas.getContext('2d');\r\n        for (const piece of Object.values(this.tiles)) {\r\n            if (piece != null) {\r\n                let x = Math.floor(piece.index / 16) * this.tileWidth;\r\n                let y = (piece.index % 16) * this.tileWidth;\r\n                ctx.drawImage(piece.image, x, y, this.tileWidth, this.tileWidth)\r\n            }\r\n        }\r\n    }\r\n\r\n    addPiece(pType, color, index) {\r\n        let piece;\r\n        if (pType == 'PAWN')\r\n            piece = new Pawn(color, index);\r\n        else if (pType == 'ROOK')\r\n            piece = new Rook(color, index)\r\n        else if (pType == 'BISHOP')\r\n            piece = new Bishop(color, index)\r\n        else if (pType == 'KNIGHT')\r\n            piece = new Knight(color, index)\r\n        else if (pType == 'KING') {\r\n            piece = new King(color, index)\r\n            if (color)  // color == white\r\n                this.whiteKing = piece;\r\n            else\r\n                this.blackKing = piece;\r\n        }\r\n        else\r\n            piece = new Queen(color, index)\r\n        this.tiles[index] = piece;\r\n    }\r\n\r\n\r\n    initiatePieces() {\r\n\r\n        this.addPiece('PAWN', 0, 1);\r\n        this.addPiece('PAWN', 0, 1);\r\n        this.addPiece('PAWN', 0, 17);\r\n        this.addPiece('PAWN', 0, 33);\r\n        this.addPiece('PAWN', 0, 49);\r\n        this.addPiece('PAWN', 0, 65);\r\n        this.addPiece('PAWN', 0, 81);\r\n        this.addPiece('PAWN', 0, 97);\r\n        this.addPiece('PAWN', 0, 113);\r\n\r\n        this.addPiece('PAWN', 1, 6);\r\n        this.addPiece('PAWN', 1, 22);\r\n        this.addPiece('PAWN', 1, 38);\r\n        this.addPiece('PAWN', 1, 54);\r\n        this.addPiece('PAWN', 1, 70);\r\n        this.addPiece('PAWN', 1, 86);\r\n        this.addPiece('PAWN', 1, 102);\r\n        this.addPiece('PAWN', 1, 118);\r\n\r\n        \r\n        this.addPiece('ROOK', 0, 0);\r\n        this.addPiece('ROOK', 0, 112);\r\n        this.addPiece('BISHOP', 0, 32);\r\n        this.addPiece('BISHOP', 0, 80);\r\n        this.addPiece('KNIGHT', 0, 16);\r\n        this.addPiece('KNIGHT', 0, 96);\r\n        this.addPiece('KING', 0, 64);\r\n        this.addPiece('QUEEN', 0, 48);\r\n\r\n        this.addPiece('ROOK', 1, 7);\r\n        this.addPiece('ROOK', 1, 119);\r\n        this.addPiece('BISHOP', 1, 39);\r\n        this.addPiece('BISHOP', 1, 87);\r\n        this.addPiece('KNIGHT', 1, 23);\r\n        this.addPiece('KNIGHT', 1, 103);\r\n        this.addPiece('KING', 1, 71);\r\n        this.addPiece('QUEEN', 1, 55);\r\n\r\n        this.drawPieces();\r\n    }\r\n\r\n\r\n    resize(width) {\r\n        this.width = width;\r\n        this.tileWidth = width / 8;\r\n        this.canvas.width = width;\r\n        this.canvas.height = width;\r\n        this.drawBoard();\r\n        this.drawPieces();\r\n    }\r\n\r\n    resetGame() {\r\n        this.tiles = {};\r\n        this.playerTurn = 0;\r\n        for (let i = 0; i < 8; i++) {\r\n            for (let j = 0; j < 8; j++) {\r\n                this.tiles[(i * 16) + j] = null;\r\n            }\r\n        }\r\n        this.tileSelected = -1;\r\n        this.lastMovement = [0, 0]\r\n        this.checkMate = false;\r\n        this.playerInCheck = false;\r\n        this.whiteKing;\r\n        this.blackKing;\r\n        this.initiatePieces();\r\n        this.drawBoard();\r\n        this.drawPieces();\r\n    }\r\n}\r\n\r\nexport default Game","<template>\n  <div class=\"md-layout md-gutter\">\n    <div class=\"md-layout-item md-layout md-gutter md-alignment-top-center\">\n      <div id=\"game-container\" class=\"md-layout-item md-size-60\">\n        <canvas @click=\"click\" @mousemove=\"showCoords\" id=\"chess\" ref=\"chess\" style=\"border: 1px solid black\" />\n        <div v-if=\"game != null\">\n          Current Turn: {{ playerTurn }}\n          <div v-if=\"game.checkMate\" style=\"color: red\">\n            Player is in checkmate\n          </div>\n          <div v-else>\n            <div v-if=\"game.playerInCheck\" style=\"color: red\">\n              Player is in check\n            </div>\n          </div>\n          <div>\n            <button v-if=\"game\" @click=\"game.resetGame()\">Reset</button>\n            <button v-else>Reset</button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport ChessGame from './Chess.js'\nexport default {\n  name: 'Game',\n  props: {\n    \n  },\n  data: function() {\n    return {\n      loaded: false,\n      boardWidth: 200,\n      game: null,\n      x: 0,\n      y: 0,\n      aiGame: null\n    }\n  },\n  computed: {\n    playerTurn: function() {\n      if (this.game.playerTurn == 0)\n        return 'Black'\n      else\n        return 'White'\n    },\n    tileWidth: function() {\n      return this.boardWidth / 8\n    }\n  },\n  created: async function() {\n    window.addEventListener('resize', () => {\n      this.resizeBoard();\n    })\n\n    await setTimeout(this.resizeBoard, 100);\n    this.game = new ChessGame(this.boardWidth);\n  },\n  methods: {\n    runCastlingTest() {\n      this.game.click(65)\n      this.game.click(66)\n\n      this.game.click(70)\n      this.game.click(68)\n\n      this.game.click(66)\n      this.game.click(67)\n\n      this.game.click(54)\n      this.game.click(52)\n\n      this.game.click(49)\n      this.game.click(50)\n\n      this.game.click(38)\n      this.game.click(36)\n\n      this.game.click(50)\n      this.game.click(51)\n\n      this.game.click(23)\n      this.game.click(5)\n\n      this.game.click(96)\n      this.game.click(114)\n\n      this.game.click(39)\n      this.game.click(99)\n\n      this.game.click(80)\n      this.game.click(65)\n\n      this.game.click(55)\n      this.game.click(4)\n      \n    },\n    runCheckMateTest() {\n      this.game.click(65)\n      this.game.click(66)\n\n      this.game.click(6)\n      this.game.click(5)\n      \n      this.game.click(48)\n      this.game.click(82)\n      \n      this.game.click(5)\n      this.game.click(4)\n      \n      this.game.click(80)\n      this.game.click(35)\n      \n      this.game.click(118)\n      this.game.click(117)\n\n      \n    },\n    runCheckTest() {\n      this.game.click(65)\n      this.game.click(66)\n\n      this.game.click(70)\n      this.game.click(68)\n\n      this.game.click(66)\n      this.game.click(67)\n\n      this.game.click(54)\n      this.game.click(52)\n\n      this.game.click(49)\n      this.game.click(50)\n\n      this.game.click(38)\n      this.game.click(36)\n\n      this.game.click(50)\n      this.game.click(51)\n\n      this.game.click(23)\n      this.game.click(5)\n\n      this.game.click(96)\n      this.game.click(114)\n\n      this.game.click(39)\n      this.game.click(99)\n\n      this.game.click(80)\n      this.game.click(65)\n\n      this.game.click(55)\n      this.game.click(4)\n      \n      this.game.click(65)\n      this.game.click(20)\n      \n    },\n    showCoords(e) {\n      this.x = e.offsetX;\n      this.y = e.offsetY;\n    },\n    click() {\n      let x = Math.floor(this.x / this.tileWidth) * 16\n      let y = Math.floor(this.y / this.tileWidth)\n      this.game.click(x + y)\n    },\n    resizeBoard() {\n      let width = document.getElementById('game-container').scrollWidth;\n      this.boardWidth = width;\n      this.game.resize(width);\n    },\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n\n\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Chess.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Chess.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Chess.vue?vue&type=template&id=865e53b2&scoped=true&\"\nimport script from \"./Chess.vue?vue&type=script&lang=js&\"\nexport * from \"./Chess.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"865e53b2\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"md-layout md-gutter\"},[_c('div',{staticClass:\"md-layout-item md-layout md-gutter md-alignment-top-center\"},[_c('div',{staticClass:\"md-layout-item md-size-100\",attrs:{\"id\":\"game-container\"}},[_c('canvas',{ref:\"balldemo\",staticStyle:{\"border\":\"1px solid black\"},attrs:{\"id\":\"balldemo\"},on:{\"click\":_vm.click,\"mousemove\":_vm.showCoords}})]),_c('div',{staticStyle:{\"display\":\"flex\",\"flex-wrap\":\"wrap\"}},[_c('div',{staticStyle:{\"width\":\"100%\"}},[_vm._v(\" \"+_vm._s(_vm.x)+\", \"+_vm._s(_vm.y)+\" \")]),(_vm.game)?_c('div',{staticStyle:{\"width\":\"100%\"}},[_vm._v(\" Size: \"),_c('button',{on:{\"click\":function($event){return _vm.game.setPieceSize(_vm.game.pieceSize + 1)}}},[_vm._v(\"+\")]),_vm._v(\" \"+_vm._s(_vm.game.pieceSize)+\" \"),_c('button',{on:{\"click\":function($event){return _vm.game.setPieceSize(_vm.game.pieceSize - 1)}}},[_vm._v(\"-\")])]):_vm._e(),(_vm.game)?_c('div',{staticStyle:{\"width\":\"100%\"}},[_vm._v(\" Units: \"),_c('button',{on:{\"click\":function($event){return _vm.game.removePieceFromClient()}}},[_vm._v(\"-\")]),_vm._v(\" \"+_vm._s(_vm.game.pieceAmount)+\" \"),_c('button',{on:{\"click\":function($event){return _vm.game.addPieceFromClient()}}},[_vm._v(\"+\")])]):_vm._e(),_c('div',{staticStyle:{\"width\":\"100%\"}},[(_vm.game)?_c('button',{on:{\"click\":function($event){return _vm.game.resetGameFromClient()}}},[_vm._v(\"Reset\")]):_c('button',[_vm._v(\"Reset\")])])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export const math = (function() {\r\n    return {\r\n      rand_range: function(a, b) {\r\n        return Math.random() * (b - a) + a;\r\n      },\r\n  \r\n      rand_normalish: function() {\r\n        const r = Math.random() + Math.random() + Math.random() + Math.random();\r\n        return (r / 4.0) * 2.0 - 1;\r\n      },\r\n  \r\n      rand_int: function(a, b) {\r\n        return Math.round(Math.random() * (b - a) + a);\r\n      },\r\n  \r\n      lerp: function(x, a, b) {\r\n        return x * (b - a) + a;\r\n      },\r\n  \r\n      smoothstep: function(x, a, b) {\r\n        x = x * x * (3.0 - 2.0 * x);\r\n        return x * (b - a) + a;\r\n      },\r\n  \r\n      smootherstep: function(x, a, b) {\r\n        x = x * x * x * (x * (x * 6 - 15) + 10);\r\n        return x * (b - a) + a;\r\n      },\r\n  \r\n      clamp: function(x, a, b) {\r\n        return Math.min(Math.max(x, a), b);\r\n      },\r\n  \r\n      sat: function(x) {\r\n        return Math.min(Math.max(x, 0.0), 1.0);\r\n      },\r\n\r\n      // For a given vector, will return a vector with the same direction and magnitude 1\r\n      normalize: function(coords) {\r\n        let [x, y, z] = coords;\r\n        let c;\r\n        if (z)\r\n          c = Math.sqrt(x*x + y*y + z*z);\r\n        else\r\n          c = Math.sqrt(x*x + y*y);\r\n        x /= c;\r\n        y /= c;\r\n        if (z)\r\n          return [x, y, z/c]\r\n        else\r\n          return [x, y]\r\n      }\r\n    };\r\n  })();","import {math} from './math'\r\n\r\nclass SpatialHashGrid {\r\n    constructor(bounds, dimensions) {\r\n        this._bounds = bounds;\r\n        this._dimensions = dimensions;\r\n        this._cells = new Map();\r\n    }\r\n\r\n    NewClient(position, dimensions, owner) {\r\n        const client = {\r\n            position: position,\r\n            dimensions: dimensions,\r\n            indices: null,\r\n            owner: owner\r\n        };\r\n\r\n        this._Insert(client);\r\n\r\n        return client;\r\n    }\r\n\r\n    _Reset() {\r\n        this._cells = new Map();\r\n    }\r\n\r\n    _Insert(client) {\r\n        const [x, y] = client.position;\r\n        const [w,h] = client.dimensions;\r\n\r\n        const i1 = this._GetCellIndex([x - w / 2, y - h / 2]);\r\n        const i2 = this._GetCellIndex([x + w / 2, y + h / 2]);\r\n\r\n        client.indices = [i1, i2];\r\n\r\n        for (let x = i1[0], xn = i2[0]; x <= xn; ++x) {\r\n            for (let y = i1[1], yn = i2[1]; y <= yn; ++y) {\r\n                const k = this._Key(x, y);\r\n                \r\n                if (!(k in this._cells)) {\r\n                    this._cells[k] = new Set();\r\n                }\r\n\r\n                this._cells[k].add(client);\r\n            }\r\n        }\r\n    }\r\n\r\n    _Key(x, y) {\r\n        return x + '.' + y;\r\n    }\r\n\r\n    _GetCellIndex(position) {\r\n        const x = math.sat((position[0] - this._bounds[0][0]) / (\r\n            this._bounds[1][0] - this._bounds[0][0]));\r\n        const y = math.sat((position[1] - this._bounds[0][1]) / (\r\n            this._bounds[1][1] - this._bounds[0][1]));\r\n    \r\n        const xIndex = Math.floor(x * (this._dimensions[0] - 1));\r\n        const yIndex = Math.floor(y * (this._dimensions[1] - 1));\r\n        return [xIndex, yIndex];\r\n        }\r\n\r\n    FindNear(position, bounds) {\r\n        const [x, y] = position;\r\n        const [w, h] = bounds;\r\n\r\n        const i1 = this._GetCellIndex([x - w / 2, y - h / 2]);\r\n        const i2 = this._GetCellIndex([x + w / 2, y + h / 2]);\r\n\r\n        const clients = new Set();\r\n\r\n        for (let x = i1[0], xn = i2[0]; x <= xn; ++x) {\r\n            for (let y = i1[1], yn = i2[1]; y <= yn; ++y) {\r\n                const k = this._Key(x, y);\r\n\r\n                if (k in this._cells) {\r\n                    for (let v of this._cells[k]) {\r\n                        clients.add(v);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return clients;\r\n    }\r\n\r\n    UpdateClient(client) {\r\n        this.RemoveClient(client);\r\n        this._Insert(client);\r\n    }\r\n\r\n    RemoveClient(client) {\r\n        const [i1, i2] = client.indices;\r\n\r\n        for (let x = i1[0], xn = i2[0]; x <= xn; ++x) {\r\n            for (let y = i1[1], yn = i2[1]; y <= yn; ++y) {\r\n                const k = this._Key(x, y);\r\n\r\n                this._cells[k].delete(client);\r\n            }\r\n        }\r\n    }\r\n\r\n    isLocationValid(coords) {\r\n        let [x, y] = coords;\r\n        if (x >= this._bounds[0][0] && x <= this._bounds[1][0])\r\n            if (y >= this._bounds[0][1] && y <= this._bounds[1][1])\r\n                return true;\r\n        return false;\r\n    }\r\n}\r\n\r\nclass SpatialHashGridFast {\r\n    constructor(bounds, dimensions) {\r\n      const [x, y] = dimensions;\r\n      this._cells = [...Array(x)].map(() => [...Array(y)].map(() => (null)));\r\n      this._dimensions = dimensions;\r\n      this._bounds = bounds;\r\n      this._queryIds = 0;\r\n    }\r\n  \r\n    _GetCellIndex(position) {\r\n      const x = math.sat((position[0] - this._bounds[0][0]) / (\r\n          this._bounds[1][0] - this._bounds[0][0]));\r\n      const y = math.sat((position[1] - this._bounds[0][1]) / (\r\n          this._bounds[1][1] - this._bounds[0][1]));\r\n  \r\n      const xIndex = Math.floor(x * (this._dimensions[0] - 1));\r\n      const yIndex = Math.floor(y * (this._dimensions[1] - 1));\r\n  \r\n      return [xIndex, yIndex];\r\n    }\r\n  \r\n    NewClient(position, dimensions, owner) {\r\n      const client = {\r\n        position: position,\r\n        dimensions: dimensions,\r\n        _cells: {\r\n          min: null,\r\n          max: null,\r\n          nodes: null,\r\n        },\r\n        _queryId: -1,\r\n        owner: owner\r\n      };\r\n  \r\n      this._Insert(client);\r\n  \r\n      return client;\r\n    }\r\n  \r\n    UpdateClient(client) {\r\n      const [x, y] = client.position;\r\n      const [w, h] = client.dimensions;\r\n  \r\n      const i1 = this._GetCellIndex([x - w / 2, y - h / 2]);\r\n      const i2 = this._GetCellIndex([x + w / 2, y + h / 2]);\r\n  \r\n      if (client._cells.min[0] == i1[0] &&\r\n          client._cells.min[1] == i1[1] &&\r\n          client._cells.max[0] == i2[0] &&\r\n          client._cells.max[1] == i2[1]) {\r\n        return;\r\n      }\r\n  \r\n      this.Remove(client);\r\n      this._Insert(client);\r\n    }\r\n  \r\n    FindNear(position, bounds) {\r\n      const [x, y] = position;\r\n      const [w, h] = bounds;\r\n  \r\n      const i1 = this._GetCellIndex([x - w / 2, y - h / 2]);\r\n      const i2 = this._GetCellIndex([x + w / 2, y + h / 2]);\r\n  \r\n      const clients = [];\r\n      const queryId = this._queryIds++;\r\n  \r\n      for (let x = i1[0], xn = i2[0]; x <= xn; ++x) {\r\n        for (let y = i1[1], yn = i2[1]; y <= yn; ++y) {\r\n          let head = this._cells[x][y];\r\n  \r\n          while (head) {\r\n            const v = head.client;\r\n            head = head.next;\r\n  \r\n            if (v._queryId != queryId) {\r\n              v._queryId = queryId;\r\n              clients.push(v);\r\n            }\r\n          }\r\n        }\r\n      }\r\n      return clients;\r\n    }\r\n  \r\n    _Insert(client) {\r\n      const [x, y] = client.position;\r\n      const [w, h] = client.dimensions;\r\n  \r\n      const i1 = this._GetCellIndex([x - w / 2, y - h / 2]);\r\n      const i2 = this._GetCellIndex([x + w / 2, y + h / 2]);\r\n  \r\n      const nodes = [];\r\n  \r\n      for (let x = i1[0], xn = i2[0]; x <= xn; ++x) {\r\n        nodes.push([]);\r\n  \r\n        for (let y = i1[1], yn = i2[1]; y <= yn; ++y) {\r\n          const xi = x - i1[0];\r\n  \r\n          const head = {\r\n            next: null,\r\n            prev: null,\r\n            client: client,\r\n          };\r\n  \r\n          nodes[xi].push(head);\r\n  \r\n          head.next = this._cells[x][y];\r\n          if (this._cells[x][y]) {\r\n            this._cells[x][y].prev = head;\r\n          }\r\n  \r\n          this._cells[x][y] = head;\r\n        }\r\n      }\r\n  \r\n      client._cells.min = i1;\r\n      client._cells.max = i2;\r\n      client._cells.nodes = nodes;\r\n    }\r\n  \r\n    Remove(client) {\r\n      const i1 = client._cells.min;\r\n      const i2 = client._cells.max;\r\n  \r\n      for (let x = i1[0], xn = i2[0]; x <= xn; ++x) {\r\n        for (let y = i1[1], yn = i2[1]; y <= yn; ++y) {\r\n          const xi = x - i1[0];\r\n          const yi = y - i1[1];\r\n          const node = client._cells.nodes[xi][yi];\r\n  \r\n          if (node.next) {\r\n            node.next.prev = node.prev;\r\n          }\r\n          if (node.prev) {\r\n            node.prev.next = node.next;\r\n          }\r\n  \r\n          if (!node.prev) {\r\n            this._cells[x][y] = node.next;\r\n          }\r\n        }\r\n      }\r\n  \r\n      client._cells.min = null;\r\n      client._cells.max = null;\r\n      client._cells.nodes = null;\r\n    }\r\n\r\n    _Reset() {\r\n        const [x, y] = this._dimensions;\r\n        this._cells = [...Array(x)].map(() => [...Array(y)].map(() => (null)));\r\n        this._queryIds = 0;\r\n    }\r\n  }\r\n\r\n\r\n  class SpatialHashGrid3D {\r\n    constructor(bounds, dimensions) {\r\n      const [x, y, z] = dimensions;\r\n      this._cells = [...Array(x)].map(() => [...Array(y)].map(() => ([...Array(z)].map(() => (null)))));\r\n      this._dimensions = dimensions;\r\n      this._bounds = bounds;\r\n      this._queryIds = 0;\r\n    }\r\n  \r\n    _GetCellIndex(position) {\r\n      const x = math.sat((position[0] - this._bounds[0][0]) / (\r\n          this._bounds[1][0] - this._bounds[0][0]));\r\n      const y = math.sat((position[1] - this._bounds[0][1]) / (\r\n          this._bounds[1][1] - this._bounds[0][1]));\r\n      const z = math.sat((position[2] - this._bounds[0][2]) / (\r\n          this._bounds[1][2] - this._bounds[0][2]));\r\n      const xIndex = Math.floor(x * (this._dimensions[0] - 1));\r\n      const yIndex = Math.floor(y * (this._dimensions[1] - 1));\r\n      const zIndex = Math.floor(z * (this._dimensions[2] - 1));\r\n      return [xIndex, yIndex, zIndex];\r\n    }\r\n  \r\n    NewClient(position, dimensions, owner) {\r\n      const client = {\r\n        position: position,\r\n        dimensions: dimensions,\r\n        _cells: {\r\n          min: null,\r\n          max: null,\r\n          nodes: null,\r\n        },\r\n        _queryId: -1,\r\n        owner: owner\r\n      };\r\n  \r\n      this._Insert(client);\r\n  \r\n      return client;\r\n    }\r\n  \r\n    UpdateClient(client) {\r\n      const [x, y, z] = client.position;\r\n      const [w, h, d] = client.dimensions;\r\n  \r\n      const i1 = this._GetCellIndex([x - w / 2, y - h / 2, z - d / 2]);\r\n      const i2 = this._GetCellIndex([x + w / 2, y + h / 2, z + d / 2]);\r\n  \r\n      if (client._cells.min[0] == i1[0] &&\r\n          client._cells.min[1] == i1[1] &&\r\n          client._cells.max[0] == i2[0] &&\r\n          client._cells.max[1] == i2[1]) {\r\n        return;\r\n      }\r\n  \r\n      this.Remove(client);\r\n      this._Insert(client);\r\n    }\r\n  \r\n    FindNear(position, bounds) {\r\n      const [x, y, z] = position;\r\n      const [w, h, d] = bounds;\r\n  \r\n      const i1 = this._GetCellIndex([x - w / 2, y - h / 2, z - d / 2]);\r\n      const i2 = this._GetCellIndex([x + w / 2, y + h / 2, z + d / 2]);\r\n      const clients = [];\r\n      const queryId = this._queryIds++;\r\n      for (let x = i1[0], xn = i2[0]; x <= xn; ++x) {\r\n        for (let y = i1[1], yn = i2[1]; y <= yn; ++y) {\r\n            for (let z = i1[2], zn = i2[2]; z <= zn; ++z) {\r\n                let head = this._cells[x][y][z];\r\n        \r\n                while (head) {\r\n                  const v = head.client;\r\n                  head = head.next;\r\n        \r\n                  if (v._queryId != queryId) {\r\n                    v._queryId = queryId;\r\n                    clients.push(v);\r\n                  }\r\n                }\r\n            }\r\n        }\r\n      }\r\n      return clients;\r\n    }\r\n  \r\n    _Insert(client) {\r\n      const [x, y, z] = client.position;\r\n      const [w, h, d] = client.dimensions;\r\n  \r\n      const i1 = this._GetCellIndex([x - w / 2, y - h / 2, z - d / 2]);\r\n      const i2 = this._GetCellIndex([x + w / 2, y + h / 2, z + d / 2]);\r\n      const nodes = [];\r\n  \r\n      for (let x = i1[0], xn = i2[0]; x <= xn; ++x) {\r\n        nodes.push([]);\r\n        for (let y = i1[1], yn = i2[1]; y <= yn; ++y) {\r\n            const xi = x - i1[0];\r\n            nodes[xi].push([]);\r\n            for (let z = i1[2], zn = i2[2]; z <= zn; ++z) {\r\n                let yi = y - i1[1];\r\n\r\n                const head = {\r\n                    next: null,\r\n                    prev: null,\r\n                    client: client,\r\n                };\r\n        \r\n                nodes[xi][yi].push(head);\r\n        \r\n                head.next = this._cells[x][y][z];\r\n                if (this._cells[x][y][z]) {\r\n                    this._cells[x][y][z].prev = head;\r\n                }\r\n        \r\n                this._cells[x][y][z] = head;\r\n            }\r\n        }\r\n      }\r\n  \r\n      client._cells.min = i1;\r\n      client._cells.max = i2;\r\n      client._cells.nodes = nodes;\r\n    }\r\n  \r\n    Remove(client) {\r\n      const i1 = client._cells.min;\r\n      const i2 = client._cells.max;\r\n  \r\n      for (let x = i1[0], xn = i2[0]; x <= xn; ++x) {\r\n        for (let y = i1[1], yn = i2[1]; y <= yn; ++y) {\r\n            for (let z = i1[2], zn = i2[2]; z <= zn; ++z) {\r\n                const xi = x - i1[0];\r\n                const yi = y - i1[1];\r\n                const zi = z - i1[2];\r\n                const node = client._cells.nodes[xi][yi][zi];\r\n        \r\n                if (node.next) {\r\n                    node.next.prev = node.prev;\r\n                }\r\n                if (node.prev) {\r\n                    node.prev.next = node.next;\r\n                }\r\n        \r\n                if (!node.prev) {\r\n                    this._cells[x][y][z] = node.next;\r\n                }\r\n            }\r\n        }\r\n      }\r\n  \r\n      client._cells.min = null;\r\n      client._cells.max = null;\r\n      client._cells.nodes = null;\r\n    }\r\n\r\n    _Reset() {\r\n        const [x, y, z] = this._dimensions;\r\n        this._cells = [...Array(x)].map(() => [...Array(y)].map(() => (() => [...Array(z)].map(() => (null)))));\r\n        this._queryIds = 0;\r\n    }\r\n  }\r\n\r\nexport const spatial_grid = {\r\n    SpatialHash_Crap: SpatialHashGrid,\r\n    SpatialHash_Slow: SpatialHashGrid,\r\n    SpatialHash_Fast: SpatialHashGridFast,\r\n    SpatialHash_3D: SpatialHashGrid3D\r\n}","import {spatial_grid} from './SpatialHashGrid'\r\n\r\nimport {math} from './math'\r\nconst CANVAS_ID = 'balldemo';\r\nlet pieces = [0, 0, 0, 0]\r\nlet colors = [\"#000000\", \"#f00\", \"#00ff10\", \"#3800ff\"];\r\n\r\nlet clock = 0;\r\n\r\n\r\n// Color: 0 is black, 1 is white\r\nclass Piece{\r\n    constructor(id, grid, size, direction, color, position, head, tail) {\r\n        this.id = id;\r\n        this.color = color;\r\n        this.size = size;\r\n        this.direction = direction;\r\n\r\n        this.tags = new Map();\r\n\r\n        this.movement = [0, 1];\r\n        this.head = head;\r\n        this.tail = tail;\r\n\r\n        this.grid = grid;\r\n\r\n        this.position = position;\r\n        this.client = grid.NewClient(position, [size, size], this);\r\n        this.client.position = position;\r\n        grid.UpdateClient(this.client);\r\n    }\r\n\r\n    isPieceOverlapping(piece) {\r\n        let [x1, y1] = this.position;\r\n        let [x2, y2] = piece.position;\r\n        let dx = x2 - x1;\r\n        let dy = y2 - y1;\r\n        let d = Math.sqrt(dx*dx + dy*dy);\r\n        if (d <= this.size){\r\n            return true;\r\n        }\r\n        else\r\n            return false;\r\n    }\r\n\r\n    checkForCollision(direction) {\r\n        let [x, y] = direction;\r\n        let position = [this.position[0] + (x * (this.size / 2)), this.position[1] + (y * (this.size / 2))];\r\n        if (position[0] < 0 || position[0] > this.grid._bounds[1][0] || position[1] < 0 || position[1] > this.grid._bounds[1][1]) {\r\n            [x, y] = direction;\r\n            if (x != 0) { //  Reverse x momentum\r\n                this.direction[0] *= -1   \r\n            }\r\n            else {    // Reverse y momentum\r\n                this.direction[1] *= -1\r\n            }\r\n        }\r\n    }\r\n\r\n    move() {\r\n        let [x, y] = this.direction;\r\n        this.moveTo([this.position[0] + x, this.position[1] + y]);\r\n        if (x > 0)\r\n            this.checkForCollision([1, 0]);\r\n        else\r\n            this.checkForCollision([-1, 0]);\r\n        if (y > 0)\r\n            this.checkForCollision([0, 1]);\r\n        else\r\n            this.checkForCollision([0, -1]);\r\n    }\r\n\r\n    moveTo(position) {\r\n        this.position = position;\r\n        this.client.position = position;\r\n        this.grid.UpdateClient(this.client);\r\n        for (let client of this.grid.FindNear(this.position, [this.size, this.size])) {\r\n            if (client.owner.position != this.position)\r\n                if (this.isPieceOverlapping(client.owner)) {\r\n                    this.tag(client.owner);\r\n                }\r\n        }\r\n    }\r\n\r\n    tag(unit) {\r\n        if (this.tags[unit.id]) {\r\n            if (clock - this.tags[unit.id] > 3) {\r\n                let tmp = {id: this.id, color: this.color, position: this.position, direction: this.direction};\r\n                this.getTagged(unit);\r\n                unit.getTagged(tmp);\r\n            }\r\n        }\r\n        else {\r\n            let tmp = {id: this.id, color: this.color, position: this.position, direction: this.direction};\r\n            this.getTagged(unit);\r\n            unit.getTagged(tmp);\r\n        }\r\n    }\r\n\r\n    getTagged(unit) {\r\n        if (unit.color > this.color) {\r\n            pieces[this.color] -= 1;\r\n            this.color += 1;\r\n            pieces[this.color] += 1;\r\n        }\r\n        else if (unit.color < this.color) {\r\n            pieces[this.color] -= 1;\r\n            this.color = Math.min(this.color + 1, 3);\r\n            pieces[this.color] += 1;    \r\n        }\r\n        let direction = this.getDirectionTowardsUnit(unit);\r\n        this.direction[0] += (direction[0] * -1);\r\n        this.direction[1] += (direction[1] * -1);\r\n        this.direction = math.normalize(this.direction);\r\n        this.tags[unit.id] = clock;\r\n    }\r\n\r\n    getDirectionTowardsUnit(unit) {\r\n        let from = this.position;\r\n        let to = unit.position;\r\n        let direction = [to[0] - from[0], to[1] - from[1]];\r\n        direction = math.normalize(direction);\r\n        return direction;\r\n    }\r\n}\r\n\r\nclass Game{\r\n    constructor(width) {\r\n        this.canvas = document.getElementById(CANVAS_ID)\r\n        this.width = width;\r\n        this.tileWidth = width / 8;\r\n        this.grid = new spatial_grid.SpatialHash_Fast([[0, 0], [width, width]], [25, 25]);\r\n\r\n        this.pieceAmount = 20;\r\n\r\n        this.pieceSize = 25;\r\n        this.pieces = null;\r\n\r\n        this.pieceIdCounter = 0;\r\n\r\n        for (let i = 0; i < 8; i++) {\r\n            for (let j = 0; j < 8; j++) {\r\n                this.grid[(i * 16) + j] = new Set();\r\n            }\r\n        }\r\n\r\n        this.drawBoard();\r\n        this.initiatePieces(this.pieceAmount);\r\n\r\n        this.shouldReset = false;\r\n        this.gameInterval = setInterval(() => {this.gameLoop()}, Math.floor(1000 / 20));\r\n    }\r\n\r\n    resetGame(tickRate) {\r\n        clearInterval(this.gameInterval);\r\n        pieces = [0, 0, 0, 0]\r\n        this.pieces = null;\r\n        this.grid._Reset();\r\n        for (let i = 0; i < 8; i++) {\r\n            for (let j = 0; j < 8; j++) {\r\n                this.grid[(i * 16) + j] = new Set();\r\n            }\r\n        }\r\n        this.initiatePieces(this.pieceAmount);\r\n        this.shouldReset = false;\r\n        this.gameInterval = setInterval(() => {this.gameLoop()}, Math.floor(1000 / tickRate));\r\n    }\r\n\r\n    gameLoop(tickRate = 20) {\r\n        clock++;\r\n\r\n        if (pieces[0] == 0 && pieces[1] == 0 && pieces[2] == 0)\r\n            this.shouldReset = true;    \r\n        \r\n        if (this.shouldReset)\r\n            return this.resetGame(tickRate);\r\n        else {\r\n            this.executeMoves();\r\n            this.drawBoard();\r\n            this.drawPieces();\r\n        }\r\n    }\r\n\r\n    executeMoves() {\r\n        let piece = this.pieces;    //  head piece\r\n        while (piece != null) {\r\n            piece.move();\r\n            piece = piece.tail;\r\n        }\r\n    }\r\n\r\n    drawBoard() {\r\n        /*\r\n        let tileWidth = this.width / 8;\r\n        for (let x = 0; x < 8; x++) {\r\n            for (let y = 0; y < 8; y++) {\r\n                if ((x + y) % 2 == 1) {     // Tile is black\r\n                    ctx.fillRect(x*tileWidth, y*tileWidth, tileWidth, tileWidth);\r\n                }\r\n            }\r\n        }\r\n        */\r\n       let ctx = this.canvas.getContext('2d');\r\n       ctx.clearRect(0, 0, this.width, this.width);\r\n    }\r\n\r\n\r\n\r\n    drawPieces() {\r\n        let ctx = this.canvas.getContext('2d');\r\n        let piece = this.pieces;\r\n        while (piece) {\r\n            /*\r\n            if (piece.color) {\r\n                let [x, y] = piece.position\r\n                x += piece.size / 2;\r\n                y += piece.size / 2;\r\n                ctx.fillStyle = \"#f00\"\r\n                ctx.beginPath();\r\n                ctx.arc(x, y, piece.sight, 0, 2 * Math.PI);\r\n                ctx.fill();\r\n            }\r\n            */\r\n           \r\n            ctx.fillStyle = colors[piece.color];\r\n            let [x,y] = piece.position\r\n            let w = piece.size;\r\n            ctx.beginPath();\r\n            ctx.arc(x, y, w / 2, 0, 2*Math.PI);\r\n            ctx.fill();\r\n            piece = piece.tail;\r\n        }\r\n    }\r\n\r\n    addPiece(color, sight, size) {\r\n        let [x, y] = [Math.floor(Math.random() * this.width), Math.floor(Math.random() * this.width)];\r\n        let piece;\r\n        let deg = Math.random() * 2 * Math.PI;\r\n        let direction = [Math.cos(deg), Math.sin(deg)]\r\n        piece = new Piece(this.pieceIdCounter++, this.grid, size, direction, color, [x, y], sight);\r\n        if (this.pieces == null) {\r\n            this.pieces = piece;\r\n        }\r\n        else {\r\n            piece.tail = this.pieces;\r\n            this.pieces.head = piece;\r\n            this.pieces = piece;\r\n        }\r\n\r\n        pieces[color] += 1;\r\n\r\n        let count = 0;\r\n        while (count < 10) {\r\n            let d;\r\n            let collision = false;\r\n            let clients = this.grid.FindNear([x, y], [size, size])\r\n            for (const client of clients) {\r\n                let [dx, dy] = [x - client.position[0], y - client.position[1]];\r\n                d = Math.sqrt(dx*dx + dy*dy)\r\n                if (d < size)\r\n                    collision = true;\r\n            }\r\n            if (collision) {\r\n                x = Math.floor(Math.random() * this.width);\r\n                y = Math.floor(Math.random() * this.width);\r\n                count++;\r\n            }\r\n            else {\r\n                return\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    getIndexFromCoordinates(position) {\r\n        let [x,y] = position;\r\n        if (x < 0 || y < 0 || x > this.width || y > this.width)\r\n            return -1\r\n        x = Math.floor(x / this.cellSize);\r\n        y = Math.floor(y / this.cellSize);\r\n        return (x * 16) + y\r\n    }\r\n\r\n    \r\n    getCoordinatesFromIndex(index) {\r\n        let x = Math.floor(index / 16);\r\n        let y = index % 16;\r\n        return [x,y]\r\n    }\r\n\r\n    initiatePieces(pieceAmount) {\r\n        this.addPiece(1, 100, this.pieceSize);\r\n        for (let x = 1; x < pieceAmount; x++) {\r\n            this.addPiece(0, 100, this.pieceSize);\r\n        }\r\n    }\r\n\r\n\r\n    resize(width) {\r\n        width = 745;\r\n        this.width = width;\r\n        this.tileWidth = width / 8;\r\n        this.canvas.width = width;\r\n        this.canvas.height = width;\r\n        this.drawBoard();\r\n        this.drawPieces();\r\n    }\r\n\r\n    \r\n    click(position) {\r\n        let [x, y] = position;\r\n        console.log(this.grid.FindNear([x, y], [1, 1]));\r\n    }\r\n\r\n    setPieceSize(size) {\r\n        let piece = this.pieces;\r\n        while (piece) {\r\n            piece.size = size;\r\n            piece = piece.tail;\r\n        }\r\n        this.pieceSize = size;\r\n    }\r\n\r\n    addPieceFromClient() {\r\n        this.addPiece(0, 100, this.pieceSize);\r\n        this.pieceAmount++;\r\n    }\r\n\r\n    removePieceFromClient() {\r\n        if (this.pieces.tail){\r\n            pieces[this.pieces.color]--;\r\n            this.grid.Remove(this.pieces.client);\r\n            this.pieces = this.pieces.tail;\r\n            this.pieces.head = null;\r\n            this.pieceAmount -= 1;\r\n        }\r\n    }\r\n\r\n    async resetGameFromClient() {\r\n        this.shouldReset = true;\r\n    }\r\n}\r\n\r\nexport default Game;","<template>\n  <div class=\"md-layout md-gutter\">\n    <div class=\"md-layout-item md-layout md-gutter md-alignment-top-center\">\n      <div id=\"game-container\" class=\"md-layout-item md-size-100\">\n        <canvas @click=\"click\" @mousemove=\"showCoords\" id=\"balldemo\" ref=\"balldemo\" style=\"border: 1px solid black\" />\n      </div>\n      <div style=\"display: flex; flex-wrap: wrap;\">\n        <div style=\"width: 100%;\">\n          {{x}}, {{y}}\n        </div>\n        <div v-if=\"game\" style=\"width: 100%;\">\n          Size: \n          <button @click=\"game.setPieceSize(game.pieceSize + 1)\">+</button>\n          {{ game.pieceSize }}\n          <button @click=\"game.setPieceSize(game.pieceSize - 1)\">-</button>\n        </div>\n        <div v-if=\"game\" style=\"width: 100%;\">\n          Units: \n          <button @click=\"game.removePieceFromClient()\">-</button>\n          {{ game.pieceAmount }}\n          <button @click=\"game.addPieceFromClient()\">+</button>\n        </div>\n        <div style=\"width: 100%;\">\n          <button v-if=\"game\" @click=\"game.resetGameFromClient()\">Reset</button>\n          <button v-else>Reset</button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport BallDemo from './BallDemo.js'\nexport default {\n  name: 'Game',\n  props: {\n    \n  },\n  data: function() {\n    return {\n      loaded: false,\n      boardWidth: 745,\n      tileWidth: 75,\n      game: null,\n      x: 0,\n      y: 0,\n      aiGame: null\n    }\n  },\n  computed: {\n  },\n  created: async function() {\n    window.addEventListener('resize', () => {\n      this.resizeBoard();\n    })\n\n    await setTimeout(this.resizeBoard, 10);\n    this.game = new BallDemo(this.boardWidth);\n  },\n  methods: {\n    runCastlingTest() {\n      this.game.click(65)\n      this.game.click(66)\n\n      this.game.click(70)\n      this.game.click(68)\n\n      this.game.click(66)\n      this.game.click(67)\n\n      this.game.click(54)\n      this.game.click(52)\n\n      this.game.click(49)\n      this.game.click(50)\n\n      this.game.click(38)\n      this.game.click(36)\n\n      this.game.click(50)\n      this.game.click(51)\n\n      this.game.click(23)\n      this.game.click(5)\n\n      this.game.click(96)\n      this.game.click(114)\n\n      this.game.click(39)\n      this.game.click(99)\n\n      this.game.click(80)\n      this.game.click(65)\n\n      this.game.click(55)\n      this.game.click(4)\n      \n    },\n    runCheckTest() {\n      this.game.click(65)\n      this.game.click(66)\n\n      this.game.click(70)\n      this.game.click(68)\n\n      this.game.click(66)\n      this.game.click(67)\n\n      this.game.click(54)\n      this.game.click(52)\n\n      this.game.click(49)\n      this.game.click(50)\n\n      this.game.click(38)\n      this.game.click(36)\n\n      this.game.click(50)\n      this.game.click(51)\n\n      this.game.click(23)\n      this.game.click(5)\n\n      this.game.click(96)\n      this.game.click(114)\n\n      this.game.click(39)\n      this.game.click(99)\n\n      this.game.click(80)\n      this.game.click(65)\n\n      this.game.click(55)\n      this.game.click(4)\n      \n      this.game.click(65)\n      this.game.click(20)\n      \n    },\n    showCoords(e) {\n      this.x = e.offsetX;\n      this.y = e.offsetY;\n    },\n    click() {\n      this.game.click([this.x, this.y]);\n    },\n    resizeBoard() {\n      let width = document.getElementById('game-container').scrollWidth;\n      this.boardWidth = width;\n      this.game.resize(width);\n    },\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n\n\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BallDemo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BallDemo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BallDemo.vue?vue&type=template&id=efc76b26&scoped=true&\"\nimport script from \"./BallDemo.vue?vue&type=script&lang=js&\"\nexport * from \"./BallDemo.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"efc76b26\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"viewport\"},[_c('controls',{attrs:{\"size\":_vm.pieceSize,\"units\":_vm.units},on:{\"sizedecrease\":function($event){return _vm.decreaseSize()},\"sizeincrease\":function($event){return _vm.increaseSize()},\"removeunit\":function($event){return _vm.removeUnit()},\"addunit\":function($event){return _vm.addUnit()},\"reset\":function($event){return _vm.resetDemo()}}}),_c('viewport',{ref:'viewport',attrs:{\"_size\":_vm.pieceSize},on:{\"setsize\":_vm.setPieceSize}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"viewport\"})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import {spatial_grid} from './SpatialHashGrid'\r\n\r\nimport {math} from './math'\r\nlet pieces = [0, 0, 0, 0]\r\n\r\n\r\nlet clock = 0;\r\n\r\n\r\n// Color: 0 is black, 1 is white\r\nclass Piece{\r\n    constructor(id, grid, size, direction, color, position, head, tail) {\r\n        this.id = id;\r\n        this.color = color;\r\n        this.size = size;\r\n        this.direction = direction;\r\n\r\n        this.tags = new Map();\r\n\r\n        this.colorNeedsUpdating = false;\r\n\r\n        this.movement = [0, 1];\r\n        this.head = head;\r\n        this.tail = tail;\r\n\r\n        this.grid = grid;\r\n        this.position = position;\r\n        this.client = grid.NewClient(position, [size, size], this);\r\n        this.client.position = position;\r\n        grid.UpdateClient(this.client);\r\n    }\r\n\r\n    resize(size) {\r\n        this.size = size;\r\n        this.client.dimensions = [size, size]\r\n    }\r\n\r\n    isPieceOverlapping(piece) {\r\n        let [x1, y1] = this.position;\r\n        let [x2, y2] = piece.position;\r\n        let dx = x2 - x1;\r\n        let dy = y2 - y1;\r\n        let d = Math.sqrt(dx*dx + dy*dy);\r\n        if (d <= this.size){\r\n            return true;\r\n        }\r\n        else\r\n            return false;\r\n    }\r\n\r\n    checkForCollision(direction) {\r\n        let [x, y] = direction;\r\n        let position = [this.position[0] + (x * (this.size / 2)), this.position[1] + (y * (this.size / 2))];\r\n        if (position[0] < 0 || position[0] > this.grid._bounds[1][0] || position[1] < 0 || position[1] > this.grid._bounds[1][1]) {\r\n            [x, y] = direction;\r\n            if (x != 0) { //  Reverse x momentum\r\n                this.direction[0] *= -1   \r\n                return true;\r\n            }\r\n            else {    // Reverse y momentum\r\n                this.direction[1] *= -1\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    move() {\r\n        let [x, y] = this.direction;\r\n        this.moveTo([this.position[0] + x, this.position[1] + y]);\r\n        if (x > 0)\r\n            this.checkForCollision([1, 0]);\r\n        else\r\n            this.checkForCollision([-1, 0]);\r\n        if (y > 0)\r\n            this.checkForCollision([0, 1]);\r\n        else\r\n            this.checkForCollision([0, -1]);\r\n    }\r\n\r\n    moveTo(position) {\r\n        this.position = position;\r\n        this.client.position = position;\r\n        this.grid.UpdateClient(this.client);\r\n        for (let client of this.grid.FindNear(this.position, [this.size, this.size])) {\r\n            if (client.owner.position != this.position)\r\n                if (this.isPieceOverlapping(client.owner)) {\r\n                    this.tag(client.owner);\r\n                }\r\n        }\r\n    }\r\n\r\n    tag(unit) {\r\n        if (this.tags[unit.id]) {\r\n            if (clock - this.tags[unit.id] > 3) {\r\n                let tmp = {id: this.id, color: this.color, position: this.position, direction: this.direction};\r\n                this.getTagged(unit);\r\n                unit.getTagged(tmp);\r\n            }\r\n        }\r\n        else {\r\n            let tmp = {id: this.id, color: this.color, position: this.position, direction: this.direction};\r\n            this.getTagged(unit);\r\n            unit.getTagged(tmp);\r\n        }\r\n    }\r\n\r\n    getTagged(unit) {\r\n        if (unit.color > this.color) {\r\n            pieces[this.color] -= 1;\r\n            this.color += 1;\r\n            this.colorNeedsUpdating = true;\r\n            pieces[this.color] += 1;\r\n        }\r\n        else if (unit.color < this.color) {\r\n            pieces[this.color] -= 1;\r\n            this.color = Math.min(this.color + 1, 3);\r\n            this.colorNeedsUpdating = true;\r\n            pieces[this.color] += 1;    \r\n        }\r\n        let direction = this.getDirectionTowardsUnit(unit);\r\n        this.direction[0] += (direction[0] * -1);\r\n        this.direction[1] += (direction[1] * -1);\r\n        this.direction = math.normalize(this.direction);\r\n        this.tags[unit.id] = clock;\r\n    }\r\n\r\n    getDirectionTowardsUnit(unit) {\r\n        let from = this.position;\r\n        let to = unit.position;\r\n        let direction = [to[0] - from[0], to[1] - from[1]];\r\n        direction = math.normalize(direction);\r\n        return direction;\r\n    }\r\n}\r\n\r\nclass Game{\r\n    constructor(width) {\r\n        this.width = width;\r\n        this.tileWidth = width / 8;\r\n        this.grid = new spatial_grid.SpatialHash_Fast([[0, 0], [width, width]], [25, 25]);\r\n\r\n        this.pieceAmount = 20;\r\n\r\n        this.pieceSize = 25;\r\n        this.pieces = null;\r\n        this.lastPiece = null\r\n\r\n        this.gameId = 0;\r\n        this.pieceIdCounter = 0;\r\n\r\n        this.initiatePieces(this.pieceAmount);\r\n\r\n        this.shouldReset = false;\r\n        this.gameInterval = setInterval(() => {this.gameLoop()}, Math.floor(1000 / 20));\r\n    }\r\n\r\n    resetGame(tickRate) {\r\n        clearInterval(this.gameInterval);\r\n        pieces = [0, 0, 0, 0]\r\n        this.pieces = null;\r\n        this.grid._Reset();\r\n        this.initiatePieces(this.pieceAmount);\r\n        this.gameId++;\r\n        this.shouldReset = false;\r\n        this.gameInterval = setInterval(() => {this.gameLoop()}, Math.floor(1000 / tickRate));\r\n    }\r\n\r\n    gameLoop(tickRate = 20) {\r\n        clock++;\r\n\r\n        if (pieces[0] == 0 && pieces[1] == 0 && pieces[2] == 0)\r\n            this.shouldReset = true;    \r\n        \r\n        if (this.shouldReset)\r\n            return this.resetGame(tickRate);\r\n        else {\r\n            this.executeMoves();\r\n        }\r\n    }\r\n\r\n    executeMoves() {\r\n        let piece = this.pieces;    //  head piece\r\n        while (piece != null) {\r\n            piece.move();\r\n            piece = piece.tail;\r\n        }\r\n    }\r\n    \r\n\r\n    addPiece(color, size) {\r\n        let x = Math.floor(Math.random() * this.width);\r\n        let y = Math.floor(Math.random() * this.width);\r\n        let piece;\r\n        let deg = Math.random() * 2 * Math.PI;\r\n        let direction = [Math.cos(deg), Math.sin(deg)]\r\n        piece = new Piece(this.pieceIdCounter++, this.grid, size, direction, color, [x, y]);\r\n        if (this.pieces == null) {\r\n            this.pieces = piece;\r\n            this.lastPiece = piece;\r\n        }\r\n        else {\r\n            piece.tail = this.pieces;\r\n            this.pieces.head = piece;\r\n            this.pieces = piece;\r\n        }\r\n        pieces[color] += 1;\r\n        let count = 0;\r\n        while (count < 10) {\r\n            let d;\r\n            let collision = false;\r\n            let clients = this.grid.FindNear([x, y], [size, size])\r\n            for (const client of clients) {\r\n                let [dx, dy] = [x - client.position[0], y - client.position[1]];\r\n                d = Math.sqrt(dx*dx + dy*dy)\r\n                if (d < size)\r\n                    collision = true;\r\n            }\r\n            if (collision) {\r\n                x = Math.floor(Math.random() * this.width);\r\n                y = Math.floor(Math.random() * this.width);\r\n                count++;\r\n            }\r\n            else {\r\n                return\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    getIndexFromCoordinates(position) {\r\n        let [x,y] = position;\r\n        if (x < 0 || y < 0 || x > this.width || y > this.width)\r\n            return -1\r\n        x = Math.floor(x / this.cellSize);\r\n        y = Math.floor(y / this.cellSize);\r\n        return (x * 16) + y\r\n    }\r\n\r\n    \r\n    getCoordinatesFromIndex(index) {\r\n        let x = Math.floor(index / 16);\r\n        let y = index % 16;\r\n        return [x,y]\r\n    }\r\n\r\n    initiatePieces(pieceAmount) {\r\n        this.addPiece(1, this.pieceSize);\r\n        for (let x = 1; x < pieceAmount; x++) {\r\n            this.addPiece(0, this.pieceSize);\r\n        }\r\n    }\r\n\r\n\r\n    resize(width) {\r\n        width = 745;\r\n        this.width = width;\r\n        this.tileWidth = width / 8;\r\n        this.canvas.width = width;\r\n        this.canvas.height = width;\r\n    }\r\n\r\n    \r\n    click(position) {\r\n        let [x, y] = position;\r\n        console.log(this.grid.FindNear([x, y], [1, 1]));\r\n    }\r\n\r\n    setPieceSize(size) {\r\n        let piece = this.pieces;\r\n        while (piece) {\r\n            piece.size = size;\r\n            piece = piece.tail;\r\n        }\r\n        this.pieceSize = size;\r\n    }\r\n\r\n    addPieceFromClient(size = this.pieceSize) {\r\n        this.addPiece(0, size);\r\n        this.pieceAmount++;\r\n    }\r\n\r\n    removePieceFromClient() {\r\n        if (this.lastPiece.head){\r\n            pieces[this.lastPiece.color]--;\r\n            this.grid.Remove(this.lastPiece.client);\r\n            this.lastPiece = this.lastPiece.head;\r\n            this.lastPiece.tail = null\r\n            this.pieceAmount -= 1;\r\n        }\r\n    }\r\n\r\n    async resetGameFromClient() {\r\n        this.shouldReset = true;\r\n    }\r\n}\r\n\r\nexport default Game;","<template>\r\n  <div class=\"viewport\"/>\r\n</template>\r\n<script>\r\nimport { mapMutations, mapActions } from \"vuex\";\r\nimport BallDemo3DFlat from './BallDemo3DFlat'\r\n\r\nexport default {\r\n  props: {\r\n    _size: {\r\n      default: 25,\r\n      type: Number\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      height: 400,\r\n      refreshInterval: null,\r\n      currentGameId: 0,\r\n      size: 25,\r\n      reset: false,\r\n    };\r\n  },\r\n  methods: {\r\n    ...mapMutations([\"RESIZE\"]),\r\n    ...mapActions([\"INIT\", \"ANIMATE\", \"SET_PIECE\", \"RESIZE_PIECES\", \"REMOVE_LAST_UNIT\", \"RESET_STATE\"]),\r\n    async loop() {\r\n      let pieces = this.game.pieces;\r\n      let resize = -1;\r\n      let reset = this.reset;\r\n      if (pieces.size != this._size) {\r\n        this.game.pieceSize = this._size;\r\n        resize = this._size;\r\n      }\r\n      this.SET_PIECE({pieces, resize, reset}).then(() => {\r\n        this.ANIMATE().then(() => {\r\n          setTimeout(() => {\r\n            this.loop();\r\n          }, 50);\r\n        })\r\n      });\r\n    },\r\n    addUnit() {\r\n      this.game.addPieceFromClient();\r\n    },\r\n    removeUnit() {\r\n      this.game.removePieceFromClient();\r\n      let piece = this.game.pieces;\r\n      this.REMOVE_LAST_UNIT({ pieces: piece })\r\n    },\r\n    resetDemo() {\r\n      this.game.resetGame(20);\r\n      //this.reset = true;\r\n    }\r\n  },\r\n  mounted () {\r\n    this.game = new BallDemo3DFlat(this.height);\r\n    let piece = this.game.pieces;\r\n    this.$emit('setsize', piece.size)\r\n    this.INIT({\r\n      width: this.$el.offsetWidth,\r\n      height: this.$el.offsetHeight,\r\n      el: this.$el,\r\n      piece: piece\r\n    }).then(() => {\r\n      this.loop();\r\n      window.addEventListener(\"resize\", () => {\r\n        this.RESIZE({\r\n          width: this.$el.offsetWidth,\r\n          height: this.$el.offsetHeight\r\n        });\r\n      });\r\n    });\r\n  },\r\n  beforeDestroy() {\r\n    this.RESET_STATE();\r\n  }\r\n};\r\n</script>\r\n<style>\r\n.viewport {\r\n    height: 100%;\r\n    width: 100%;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ViewPort.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ViewPort.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ViewPort.vue?vue&type=template&id=343653bd&\"\nimport script from \"./ViewPort.vue?vue&type=script&lang=js&\"\nexport * from \"./ViewPort.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ViewPort.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"flex flex-col absolute w-64 h-auto pin-r pin-b bg-grey-darkest text-white rounded mr-2 mb-2 z-10\"},[_c('div',{staticClass:\"p-2 mt-1\"},[_vm._v(\" Controls - Press ESC for Menu \")]),_c('div',{staticClass:\"bg-grey-dark h-full p-3 rounded-b flex flex-col border border-grey-darkest\"},[_c('div',{staticClass:\"border-b border-grey-darkest mb-2 pb-2\"},[_c('p',{staticClass:\"mb-1 text-grey-light font-bold\"},[_vm._v(\" Scenery \")]),_c('div',{staticClass:\"flex\"},[_c('p',{staticClass:\"flex items-center justify-between mb-1\"},[_vm._v(\" Size \")]),_c('div',[_c('button',{on:{\"click\":function($event){return _vm.$emit('sizedecrease')}}},[_vm._v(\"-\")]),_vm._v(\" \"+_vm._s(_vm.size)+\" \"),_c('button',{on:{\"click\":function($event){return _vm.$emit('sizeincrease')}}},[_vm._v(\"+\")])])]),_c('div',{staticClass:\"flex\"},[_c('p',{staticClass:\"flex items-center justify-between mb-1\"},[_vm._v(\" Units \")]),_c('div',[_c('button',{on:{\"click\":function($event){return _vm.$emit('removeunit')}}},[_vm._v(\"-\")]),_vm._v(\" \"+_vm._s(_vm.units)+\" \"),_c('button',{on:{\"click\":function($event){return _vm.$emit('addunit')}}},[_vm._v(\"+\")])])]),_c('p',{staticClass:\"flex items-center justify-between\"},[_vm._v(\" Axis Lines \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.axisLinesVisible),expression:\"axisLinesVisible\"}],attrs:{\"type\":\"checkbox\",\"name\":\"axis-lines\",\"id\":\"axis-lines\"},domProps:{\"checked\":Array.isArray(_vm.axisLinesVisible)?_vm._i(_vm.axisLinesVisible,null)>-1:(_vm.axisLinesVisible)},on:{\"click\":_vm.toggleAxisLines,\"change\":function($event){var $$a=_vm.axisLinesVisible,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.axisLinesVisible=$$a.concat([$$v]))}else{$$i>-1&&(_vm.axisLinesVisible=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.axisLinesVisible=$$c}}}})])]),(_vm.CAMERA_POSITION)?_c('div',{staticClass:\"border-b border-grey-darkest mb-2 pb-2\"},[_c('p',{staticClass:\"mb-1 text-grey-light font-bold\"},[_vm._v(\" Camera Position \")]),_c('p',{staticClass:\"flex justify-between w-full mb-2 text-grey-light\"},[_vm._v(\" X:\"),_c('span',{staticClass:\"text-white\"},[_vm._v(_vm._s(_vm.CAMERA_POSITION.x))])]),_c('p',{staticClass:\"flex justify-between w-full mb-2 text-grey-light\"},[_vm._v(\" Y:\"),_c('span',{staticClass:\"text-white\"},[_vm._v(_vm._s(_vm.CAMERA_POSITION.y))])]),_c('p',{staticClass:\"flex justify-between w-full mb-2 text-grey-light\"},[_vm._v(\" Z:\"),_c('span',{staticClass:\"text-white\"},[_vm._v(_vm._s(_vm.CAMERA_POSITION.z))])]),_c('p',{staticClass:\"flex items-center\"},[_c('button',{staticClass:\"bg-grey-light cursor-pointer shadow p-2 mx-auto\",on:{\"click\":_vm.resetCameraPosition}},[_vm._v(\" Reset Camera \")]),_c('button',{staticClass:\"bg-grey-light cursor-pointer shadow p-2 mx-auto\",on:{\"click\":function($event){return _vm.$emit('reset')}}},[_vm._v(\" Reset Demo \")])])]):_vm._e()])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div\r\n    class=\"flex flex-col absolute w-64 h-auto pin-r pin-b bg-grey-darkest text-white rounded mr-2 mb-2 z-10\"\r\n  >\r\n    <div class=\"p-2 mt-1\">\r\n      Controls - Press ESC for Menu\r\n    </div>\r\n    <div\r\n      class=\"bg-grey-dark h-full p-3 rounded-b flex flex-col border border-grey-darkest\"\r\n    >\r\n      <div class=\"border-b border-grey-darkest mb-2 pb-2\">\r\n        <p class=\"mb-1 text-grey-light font-bold\">\r\n          Scenery\r\n        </p>\r\n        <div class=\"flex\">\r\n          <p class=\"flex items-center justify-between mb-1\">\r\n            Size\r\n          </p>\r\n          <div>\r\n            <button @click=\"$emit('sizedecrease')\">-</button>\r\n            {{ size }}\r\n            <button @click=\"$emit('sizeincrease')\">+</button>\r\n          </div>\r\n        </div>\r\n        <div class=\"flex\">\r\n          <p class=\"flex items-center justify-between mb-1\">\r\n            Units\r\n          </p>\r\n          <div>\r\n            <button @click=\"$emit('removeunit')\">-</button>\r\n            {{ units }}\r\n            <button @click=\"$emit('addunit')\">+</button>\r\n          </div>\r\n        </div>\r\n        <p class=\"flex items-center justify-between\">\r\n          Axis Lines\r\n          <input\r\n            type=\"checkbox\"\r\n            name=\"axis-lines\"\r\n            id=\"axis-lines\"\r\n            v-model=\"axisLinesVisible\"\r\n            @click=\"toggleAxisLines\"\r\n          />\r\n        </p>\r\n      </div>\r\n      <div\r\n        v-if=\"CAMERA_POSITION\"\r\n        class=\"border-b border-grey-darkest mb-2 pb-2\"\r\n      >\r\n        <p class=\"mb-1 text-grey-light font-bold\">\r\n          Camera Position\r\n        </p>\r\n        <p class=\"flex justify-between w-full mb-2 text-grey-light\">\r\n          X:<span class=\"text-white\">{{ CAMERA_POSITION.x }}</span>\r\n        </p>\r\n        <p class=\"flex justify-between w-full mb-2 text-grey-light\">\r\n          Y:<span class=\"text-white\">{{ CAMERA_POSITION.y }}</span>\r\n        </p>\r\n        <p class=\"flex justify-between w-full mb-2 text-grey-light\">\r\n          Z:<span class=\"text-white\">{{ CAMERA_POSITION.z }}</span>\r\n        </p>\r\n        <p class=\"flex items-center\">\r\n          <button\r\n            class=\"bg-grey-light cursor-pointer shadow p-2 mx-auto\"\r\n            @click=\"resetCameraPosition\"\r\n          >\r\n            Reset Camera\r\n          </button>\r\n          <button\r\n            class=\"bg-grey-light cursor-pointer shadow p-2 mx-auto\"\r\n            @click=\"$emit('reset')\"\r\n          >\r\n            Reset Demo\r\n          </button>\r\n        </p>\r\n      </div>\r\n\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters, mapMutations } from \"vuex\";\r\nexport default {\r\n  props: {\r\n    size: {\r\n      default: 25,\r\n      type: Number\r\n    },\r\n    units: {\r\n      default: 20,\r\n      type: Number\r\n    }\r\n  },\r\n  created() {\r\n\r\n  },\r\n  data() {\r\n    return {\r\n      axisLinesVisible: true,\r\n      pyramidsVisible: true\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapGetters([\"CAMERA_POSITION\"])\r\n  },\r\n  methods: {\r\n    ...mapMutations([\r\n      \"SET_CAMERA_POSITION\",\r\n      \"RESET_CAMERA_ROTATION\",\r\n      \"HIDE_AXIS_LINES\",\r\n      \"SHOW_AXIS_LINES\",\r\n      \"HIDE_PYRAMIDS\",\r\n      \"SHOW_PYRAMIDS\"\r\n    ]),\r\n    resetCameraPosition() {\r\n      this.SET_CAMERA_POSITION({ x: 0, y: 0, z: 500 });\r\n      this.RESET_CAMERA_ROTATION();\r\n    },\r\n    toggleAxisLines() {\r\n      if (this.axisLinesVisible) {\r\n        this.HIDE_AXIS_LINES();\r\n        this.axisLinesVisible = false;\r\n      } else {\r\n        this.SHOW_AXIS_LINES();\r\n        this.axisLinesVisible = true;\r\n      }\r\n    },\r\n    togglePyramids() {\r\n      if (this.pyramidsVisible) {\r\n        this.HIDE_PYRAMIDS();\r\n        this.pyramidsVisible = false;\r\n      } else {\r\n        this.SHOW_PYRAMIDS();\r\n        this.pyramidsVisible = true;\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style scoped>\r\n@import 'https://cdn.jsdelivr.net/npm/tailwindcss@0.7.4/dist/tailwind.css'\r\n\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ControlPanel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ControlPanel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ControlPanel.vue?vue&type=template&id=4e77f450&scoped=true&\"\nimport script from \"./ControlPanel.vue?vue&type=script&lang=js&\"\nexport * from \"./ControlPanel.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ControlPanel.vue?vue&type=style&index=0&id=4e77f450&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4e77f450\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"viewport\">\n    <controls\n      :size=\"pieceSize\"\n      v-on:sizedecrease=\"decreaseSize()\"\n      v-on:sizeincrease=\"increaseSize()\"\n      v-on:removeunit=\"removeUnit()\"\n      v-on:addunit=\"addUnit()\"\n      v-on:reset=\"resetDemo()\"\n      :units=\"units\"\n    />\n    <viewport \n      :ref=\"'viewport'\"\n      :_size=\"pieceSize\"\n      v-on:setsize=\"setPieceSize\"\n    />\n  </div>\n</template>\n<script>\nimport ViewPort from './ViewPort.vue'\nimport ControlPanel from './ControlPanel.vue'\n\nexport default {\n  data () {\n    return {\n      height: 800,\n      pieceSize: 25,\n      units: 20\n    };\n  },\n  components: {\n    viewport: ViewPort,\n    controls: ControlPanel,\n  },\n  methods: {\n    decreaseSize() {\n      this.pieceSize--;\n    },\n    increaseSize() {\n      this.pieceSize++;\n    },\n    setPieceSize(size) {\n      this.pieceSize = size;\n    },\n    addUnit() {\n      this.units++;\n      let viewport = this.$refs.viewport;\n      viewport.addUnit();\n    },\n    removeUnit() {\n      this.units--;\n      let viewport = this.$refs.viewport;\n      viewport.removeUnit();\n    },\n    resetDemo() {\n      let viewport = this.$refs.viewport;\n      viewport.resetDemo();\n    }\n  },\n  beforeDestroy() {\n\n  },\n  async mounted () {\n  }\n};\n</script>\n<style>\nhtml,\nbody {\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n}\n.viewport {\n    height: 100%;\n    width: 100%;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BallDemo3DFlat.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BallDemo3DFlat.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BallDemo3DFlat.vue?vue&type=template&id=a8b94938&\"\nimport script from \"./BallDemo3DFlat.vue?vue&type=script&lang=js&\"\nexport * from \"./BallDemo3DFlat.vue?vue&type=script&lang=js&\"\nimport style0 from \"./BallDemo3DFlat.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"viewport\"},[_c('controls',{attrs:{\"size\":_vm.pieceSize,\"units\":_vm.units},on:{\"sizedecrease\":function($event){return _vm.decreaseSize()},\"sizeincrease\":function($event){return _vm.increaseSize()},\"removeunit\":function($event){return _vm.removeUnit()},\"addunit\":function($event){return _vm.addUnit()},\"reset\":function($event){return _vm.resetDemo()}}}),_c('viewport',{ref:'viewport',attrs:{\"_size\":_vm.pieceSize},on:{\"setsize\":_vm.setPieceSize}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"viewport\"})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import {spatial_grid} from './SpatialHashGrid'\r\n\r\nimport {math} from './math'\r\nlet pieces = [0, 0, 0, 0]\r\n\r\n\r\nlet clock = 0;\r\nlet tickRate = 20;\r\n\r\n// Color: 0 is black, 1 is white\r\nclass Piece{\r\n    constructor(id, grid, size, direction, color, position, head, tail) {\r\n        this.id = id;\r\n        this.color = color;\r\n        this.size = size;\r\n        this.direction = direction;\r\n\r\n        this.tags = new Map();\r\n\r\n        this.colorNeedsUpdating = false;\r\n\r\n        this.movement = [0, 1, 0];\r\n        this.head = head;\r\n        this.tail = tail;\r\n\r\n        this.grid = grid;\r\n        this.position = position;\r\n        this.client = grid.NewClient(position, [size, size, size], this);\r\n\r\n        this.client.position = position;\r\n\r\n        grid.UpdateClient(this.client);\r\n    }\r\n\r\n    resize(size) {\r\n        this.size = size;\r\n        this.client.dimensions = [size, size, size]\r\n    }\r\n\r\n    isPieceOverlapping(piece) {\r\n        let [x1, y1, z1] = this.position;\r\n        let [x2, y2, z2] = piece.position;\r\n        let dx = x2 - x1;\r\n        let dy = y2 - y1;\r\n        let dz = z2 - z1;\r\n        let d = Math.sqrt(dx*dx + dy*dy + dz*dz);\r\n        if (d <= this.size){\r\n            return true;\r\n        }\r\n        else\r\n            return false;\r\n    }\r\n\r\n    checkForCollision(direction) {\r\n        let [x, y, z] = direction;\r\n        let position = [this.position[0] + (x * (this.size / 2)), this.position[1] + (y * (this.size / 2)), this.position[2] + (z * (this.size / 2))];\r\n        if (position[0] < 0 || position[0] > this.grid._bounds[1][0] || position[1] < 0 || position[1] > this.grid._bounds[1][1]\r\n            || position[2] < 0 || position[2] > this.grid._bounds[1][2]) {\r\n            [x, y, z] = direction;\r\n            if (x != 0) { //  Reverse x momentum\r\n                this.direction[0] *= -1;  \r\n                return true;\r\n            }\r\n            else if (y != 0) {    // Reverse y momentum\r\n                this.direction[1] *= -1;\r\n                return true;\r\n            }\r\n            else {  // Reverse z momentum\r\n                this.direction[2] *= -1;\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    move() {\r\n        let [x, y, z] = this.direction;\r\n        this.moveTo([this.position[0] + x, this.position[1] + y, this.position[2] + z]);\r\n        if (x > 0)\r\n            this.checkForCollision([1, 0, 0]);\r\n        else\r\n            this.checkForCollision([-1, 0, 0]);\r\n        if (y > 0)\r\n            this.checkForCollision([0, 1, 0]);\r\n        else\r\n            this.checkForCollision([0, -1, 0]);\r\n        if (z > 0)\r\n            this.checkForCollision([0, 0, 1]);\r\n        else\r\n            this.checkForCollision([0, 0, -1]);\r\n        \r\n    }\r\n\r\n    moveTo(position) {\r\n        this.position = position;\r\n        this.client.position = position;\r\n        this.grid.UpdateClient(this.client);\r\n        for (let client of this.grid.FindNear(this.position, [this.size/2, this.size/2, this.size/2])) {\r\n            if (client.owner.id != this.id)\r\n                if (this.isPieceOverlapping(client.owner)) {\r\n                    this.tag(client.owner);\r\n                }\r\n        }\r\n    }\r\n\r\n    tag(unit) {\r\n        let tmp = {id: this.id, color: this.color, position: this.position, direction: this.direction};\r\n        this.getTagged(unit);\r\n        unit.getTagged(tmp);\r\n    }\r\n\r\n    getTagged(unit) {\r\n        if (!this.tags[unit.id])\r\n            this.tags[unit.id] = 0;\r\n        if (clock - this.tags[unit.id] > 3) {\r\n            if (unit.color > this.color) {\r\n                pieces[this.color] -= 1;\r\n                this.color += 1;\r\n                this.colorNeedsUpdating = true;\r\n                pieces[this.color] += 1;\r\n            }\r\n            else if (unit.color < this.color) {\r\n                pieces[this.color] -= 1;\r\n                this.color = Math.min(this.color + 1, 3);\r\n                this.colorNeedsUpdating = true;\r\n                pieces[this.color] += 1;    \r\n            }\r\n        }\r\n        let direction = this.getDirectionTowardsUnit(unit);\r\n        this.direction[0] += (direction[0] * -1);\r\n        this.direction[1] += (direction[1] * -1);\r\n        this.direction[2] += (direction[2] * -1);\r\n        this.direction = math.normalize(this.direction);\r\n        this.tags[unit.id] = clock;\r\n    }\r\n\r\n    getDirectionTowardsUnit(unit) {\r\n        let from = this.position;\r\n        let to = unit.position;\r\n        let direction = [to[0] - from[0], to[1] - from[1], to[2] - from[2]];\r\n        direction = math.normalize(direction);\r\n        return direction;\r\n    }\r\n}\r\n\r\nclass Game{\r\n    constructor(width) {\r\n        this.width = width;\r\n        this.tileWidth = width / 8;\r\n        this.grid = new spatial_grid.SpatialHash_3D([[0, 0, 0], [width, width, width]], [25, 25, 25]);\r\n\r\n        this.pieceAmount = 20;\r\n\r\n        this.pieceSize = 25;\r\n        this.pieces = null;\r\n        this.lastPiece = null\r\n\r\n        this.gameId = 0;\r\n        this.pieceIdCounter = 0;\r\n\r\n        this.initiatePieces(this.pieceAmount);\r\n\r\n        this.shouldReset = false;\r\n        this.gameInterval = setInterval(() => {this.gameLoop()}, Math.floor(1000 / tickRate));\r\n    }\r\n\r\n    resetGame() {\r\n        clearInterval(this.gameInterval);\r\n        pieces = [0, 0, 0, 0]\r\n        this.pieces = null;\r\n        this.grid._Reset();\r\n        this.initiatePieces(this.pieceAmount);\r\n        this.gameId++;\r\n        this.shouldReset = false;\r\n        this.gameInterval = setInterval(() => {this.gameLoop()}, Math.floor(1000 / tickRate));\r\n    }\r\n\r\n    gameLoop() {\r\n        clock++;\r\n\r\n        if (pieces[0] == 0 && pieces[1] == 0 && pieces[2] == 0)\r\n            this.shouldReset = true;    \r\n        \r\n        if (this.shouldReset)\r\n            return this.resetGame();\r\n        else {\r\n            this.executeMoves();\r\n        }\r\n    }\r\n\r\n    executeMoves() {\r\n        let piece = this.pieces;    //  head piece\r\n        while (piece != null) {\r\n            piece.move();\r\n            piece = piece.tail;\r\n        }\r\n    }\r\n    \r\n\r\n    addPiece(color, size) {\r\n        let x = Math.floor(Math.random() * this.width);\r\n        let y = Math.floor(Math.random() * this.width);\r\n        let z = Math.floor(Math.random() * this.width);\r\n        let piece;\r\n        let deg = Math.random() * 2 * Math.PI;\r\n        let direction = [Math.cos(deg), Math.sin(deg), Math.tan(deg) % 1]\r\n        piece = new Piece(this.pieceIdCounter++, this.grid, size, direction, color, [x, y, z]);\r\n        if (this.pieces == null) {\r\n            this.pieces = piece;\r\n            this.lastPiece = piece;\r\n        }\r\n        else {\r\n            piece.tail = this.pieces;\r\n            this.pieces.head = piece;\r\n            this.pieces = piece;\r\n        }\r\n        pieces[color] += 1;\r\n        let count = 0;\r\n        while (count < 10) {\r\n            let d;\r\n            let collision = false;\r\n            let clients = this.grid.FindNear([x, y, z], [size, size, size])\r\n            for (const client of clients) {\r\n                let [dx, dy, dz] = [x - client.position[0], y - client.position[1], z - client.position[2]];\r\n                d = Math.sqrt(dx*dx + dy*dy + dz*dz)\r\n                if (d < size)\r\n                    collision = true;\r\n            }\r\n            if (collision) {\r\n                x = Math.floor(Math.random() * this.width);\r\n                y = Math.floor(Math.random() * this.width);\r\n                z = Math.floor(Math.random() * this.width);\r\n                count++;\r\n            }\r\n            else {\r\n                return\r\n            }\r\n        }\r\n    }\r\n    initiatePieces(pieceAmount) {\r\n        this.addPiece(1, this.pieceSize);\r\n        for (let x = 1; x < pieceAmount; x++) {\r\n            this.addPiece(0, this.pieceSize);\r\n        }\r\n    }\r\n\r\n\r\n    resize(width) {\r\n        width = 745;\r\n        this.width = width;\r\n        this.tileWidth = width / 8;\r\n        this.canvas.width = width;\r\n        this.canvas.height = width;\r\n    }\r\n\r\n    \r\n    click(position) {\r\n        let [x, y] = position;\r\n        console.log(this.grid.FindNear([x, y], [1, 1]));\r\n    }\r\n\r\n    setPieceSize(size) {\r\n        let piece = this.pieces;\r\n        while (piece) {\r\n            piece.size = size;\r\n            piece = piece.tail;\r\n        }\r\n        this.pieceSize = size;\r\n    }\r\n\r\n    addPieceFromClient(size = this.pieceSize) {\r\n        this.addPiece(0, size);\r\n        this.pieceAmount++;\r\n    }\r\n\r\n    removePieceFromClient() {\r\n        if (this.lastPiece.head){\r\n            pieces[this.lastPiece.color]--;\r\n            this.grid.Remove(this.lastPiece.client);\r\n            this.lastPiece = this.lastPiece.head;\r\n            this.lastPiece.tail = null\r\n            this.pieceAmount -= 1;\r\n        }\r\n    }\r\n\r\n    async resetGameFromClient() {\r\n        this.shouldReset = true;\r\n    }\r\n\r\n    stop() {\r\n        let piece = this.pieces;\r\n        let tail;\r\n        while (piece) {\r\n            tail = piece.tail;\r\n            piece = {}\r\n            piece = tail;\r\n        }\r\n        clearInterval(this.gameInterval);\r\n        delete this;\r\n    }\r\n}\r\n\r\nexport default Game;","<template>\r\n  <div class=\"viewport\"/>\r\n</template>\r\n<script>\r\nimport { mapMutations, mapActions } from \"vuex\";\r\nimport BallDemo3D from './BallDemo3D.js'\r\n\r\nexport default {\r\n  props: {\r\n    _size: {\r\n      default: 25,\r\n      type: Number\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      height: 400,\r\n      refreshInterval: null,\r\n      currentGameId: 0,\r\n      size: 25,\r\n      reset: false,\r\n    };\r\n  },\r\n  methods: {\r\n    ...mapMutations([\"RESIZE\"]),\r\n    ...mapActions([\"INIT\", \"ANIMATE\", \"SET_PIECE\", \"RESIZE_PIECES\", \"REMOVE_LAST_UNIT\", \"RESET_STATE\"]),\r\n    async loop() {\r\n      let pieces = this.game.pieces;\r\n      let resize = -1;\r\n      let reset = this.reset;\r\n      if (pieces.size != this._size) {\r\n        this.game.pieceSize = this._size;\r\n        resize = this._size;\r\n      }\r\n      this.SET_PIECE({pieces, resize, reset}).then(() => {\r\n        this.ANIMATE().then(() => {\r\n          setTimeout(() => {\r\n            this.loop();\r\n          }, 50);\r\n        })\r\n      });\r\n    },\r\n    addUnit() {\r\n      this.game.addPieceFromClient();\r\n    },\r\n    removeUnit() {\r\n      this.game.removePieceFromClient();\r\n      let piece = this.game.pieces;\r\n      this.REMOVE_LAST_UNIT({ pieces: piece })\r\n    },\r\n    resetDemo() {\r\n      this.game.resetGame(20);\r\n      //this.reset = true;\r\n    }\r\n  },\r\n  mounted () {\r\n    this.game = new BallDemo3D(this.height);\r\n    let piece = this.game.pieces;\r\n    this.$emit('setsize', 80)\r\n    this.INIT({\r\n      width: this.$el.offsetWidth,\r\n      height: this.$el.offsetHeight,\r\n      el: this.$el,\r\n      piece: piece\r\n    }).then(() => {\r\n      this.loop();\r\n      window.addEventListener(\"resize\", () => {\r\n        this.RESIZE({\r\n          width: this.$el.offsetWidth,\r\n          height: this.$el.offsetHeight\r\n        });\r\n      });\r\n    });\r\n  },\r\n  created() {\r\n  },\r\n  beforeDestroy() {\r\n    this.game.stop();\r\n    this.RESET_STATE();\r\n  }\r\n};\r\n</script>\r\n<style>\r\n.viewport {\r\n    height: 100%;\r\n    width: 100%;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ViewPortNew.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ViewPortNew.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ViewPortNew.vue?vue&type=template&id=50fe0ede&\"\nimport script from \"./ViewPortNew.vue?vue&type=script&lang=js&\"\nexport * from \"./ViewPortNew.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ViewPortNew.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"viewport\">\n    <controls\n      :size=\"pieceSize\"\n      v-on:sizedecrease=\"decreaseSize()\"\n      v-on:sizeincrease=\"increaseSize()\"\n      v-on:removeunit=\"removeUnit()\"\n      v-on:addunit=\"addUnit()\"\n      v-on:reset=\"resetDemo()\"\n      :units=\"units\"\n    />\n    <viewport \n      :ref=\"'viewport'\"\n      :_size=\"pieceSize\"\n      v-on:setsize=\"setPieceSize\"\n    />\n  </div>\n</template>\n<script>\nimport ViewPort from './ViewPortNew.vue'\nimport ControlPanel from './ControlPanel.vue'\n\nexport default {\n  data () {\n    return {\n      height: 800,\n      pieceSize: 25,\n      units: 20\n    };\n  },\n  components: {\n    viewport: ViewPort,\n    controls: ControlPanel,\n  },\n  methods: {\n    decreaseSize() {\n      this.pieceSize--;\n    },\n    increaseSize() {\n      this.pieceSize++;\n    },\n    setPieceSize(size) {\n      this.pieceSize = size;\n    },\n    addUnit() {\n      this.units++;\n      let viewport = this.$refs.viewport;\n      viewport.addUnit();\n    },\n    removeUnit() {\n      this.units--;\n      let viewport = this.$refs.viewport;\n      viewport.removeUnit();\n    },\n    resetDemo() {\n      let viewport = this.$refs.viewport;\n      viewport.resetDemo();\n    }\n  },\n  beforeDestroy() {\n\n  },\n  async mounted () {\n  }\n};\n</script>\n<style>\nhtml,\nbody {\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n}\n.viewport {\n    height: 100%;\n    width: 100%;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BallDemo3D.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BallDemo3D.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BallDemo3D.vue?vue&type=template&id=c7438ca6&\"\nimport script from \"./BallDemo3D.vue?vue&type=script&lang=js&\"\nexport * from \"./BallDemo3D.vue?vue&type=script&lang=js&\"\nimport style0 from \"./BallDemo3D.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"md-layout md-gutter\"},[_c('div',{staticClass:\"md-layout-item md-layout md-gutter md-alignment-top-center\"},[_c('div',{staticClass:\"md-layout-item md-size-100\"},[_c('h1',[_vm._v(\"Spatial HashGrid Benchmarks\")]),(_vm.loading)?_c('div',[_vm._v(\" Loading tests, please wait.... \")]):_c('div',[_c('h3',[_vm._v(\"Results\")]),_c('div',{domProps:{\"innerHTML\":_vm._s(_vm.results)}}),_c('md-button',{on:{\"click\":function($event){return _vm.rerun()}}},[_vm._v(\"Run Tests Again\")])],1)])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"md-layout md-gutter\">\r\n    <div class=\"md-layout-item md-layout md-gutter md-alignment-top-center\">\r\n        <div class=\"md-layout-item md-size-100\">\r\n            <h1>Spatial HashGrid Benchmarks</h1>\r\n            <div v-if=\"loading\">\r\n                Loading tests, please wait....\r\n            </div>\r\n\r\n            <div v-else>\r\n                <h3>Results</h3>\r\n                <div v-html=\"results\" />\r\n                <md-button @click=\"rerun()\">Run Tests Again</md-button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport SpatialHashGridTester from './SpatialHashGridTester.js'\r\nexport default {\r\n  name: 'HashGridBenchmarks',\r\n  props: {\r\n  },\r\n  data: function() {\r\n    return {\r\n        tester: null,\r\n        loading: true,\r\n        results: \"\"\r\n    }\r\n  },\r\n  computed: {\r\n  },\r\n  mounted() {\r\n\r\n  },\r\n  created: function() {\r\n      setTimeout(this.createTester, 100);\r\n  },\r\n  methods: {\r\n      async rerun() {\r\n          this.loading = true;\r\n          this.results = \"\";\r\n          setTimeout(this.createTester, 100);\r\n      },\r\n      async createTester() {\r\n            SpatialHashGridTester.test().then((results) => {\r\n                this.loading = false;\r\n                this.results = results;\r\n            });\r\n      }\r\n  }\r\n}\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>\r\n\r\n\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HashGridTester.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HashGridTester.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./HashGridTester.vue?vue&type=template&id=46f67db2&scoped=true&\"\nimport script from \"./HashGridTester.vue?vue&type=script&lang=js&\"\nexport * from \"./HashGridTester.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"46f67db2\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div id=\"app\">\n    <div class=\"md-layout md-gutter\" style=\"display: flex; flex-wrap: wrap; height: 100%\">\n      <BallDemo v-if=\"selection =='BALL_DEMO'\" class=\"md-layout-item md-size-100\" />\n      <BallDemo3D v-if=\"selection == 'BALL_DEMO_3D'\" class=\"md-layout-item md-size-100\" />\n      <BallDemo3DFlat v-if=\"selection == '3D_BALL_FLAT'\" class=\"md-layout-item md-size-100\" />\n      <Chess v-if=\"selection == 'CHESS'\" class=\"md-layout-item md-size-100\" />\n      <HashGridTester v-if=\"selection == 'HASH_GRID_TESTER'\" class=\"md-layout-item md-size-100\" />\n      <div v-if=\"selection == 'MENU'\" class=\"md-layout-item md-size-100\">\n        <h1>Main Menu</h1>\n        <div>\n          <md-button v-for=\"(title, index) of pages\" :key=\"index\" @click=\"selection=title\">{{ title }}</md-button>\n        </div>\n      </div>\n      <div v-else class=\"md-layout-item md-size-100\">\n        <md-button class=\"md-primary\" @click=\"selection='MENU'\">Return to Menu</md-button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Chess from './components/Chess.vue'\nimport BallDemo from './components/BallDemo.vue'\nimport BallDemo3DFlat from './components/BallDemo3DFlat.vue'\nimport BallDemo3D from './components/BallDemo3D.vue'\nimport HashGridTester from './components/HashGridTester.vue'\n\nexport default {\n  name: 'App',\n  components: {\n    Chess, BallDemo, BallDemo3DFlat, BallDemo3D, HashGridTester\n  },\n  data() {\n    return {\n      selection: 'MENU',\n      pages: ['CHESS', 'BALL_DEMO', '3D_BALL_FLAT', 'HASH_GRID_TESTER', 'BALL_DEMO_3D']\n    }\n  },\n  created() {\n    window.addEventListener(\"keydown\", event => {\n      if (event.key === \"Escape\") {\n        this.selection = \"MENU\";\n      }\n    });\n  }\n}\n</script>\n\n<style>\nbody {\n  margin: 0px;\n}\n#app {\n  height: 100%;\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  margin-top: 0px;\n}\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=4777252d&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","/* eslint-disable no-console */\n\nimport { register } from 'register-service-worker'\n\nif (process.env.NODE_ENV === 'production') {\n  register(`${process.env.BASE_URL}service-worker.js`, {\n    ready () {\n      console.log(\n        'App is being served from cache by a service worker.\\n' +\n        'For more details, visit https://goo.gl/AFskqB'\n      )\n    },\n    registered () {\n      console.log('Service worker has been registered.')\n    },\n    cached () {\n      console.log('Content has been cached for offline use.')\n    },\n    updatefound () {\n      console.log('New content is downloading.')\n    },\n    updated () {\n      console.log('New content is available; please refresh.')\n    },\n    offline () {\n      console.log('No internet connection found. App is running in offline mode.')\n    },\n    error (error) {\n      console.error('Error during service worker registration:', error)\n    }\n  })\n}\n","import Vue from \"vue\";\r\nimport Vuex from \"vuex\";\r\nimport {\r\n  Scene,\r\n  TrackballControls,\r\n  PerspectiveCamera,\r\n  WebGLRenderer,\r\n  Color,\r\n  MeshPhongMaterial,\r\n  Mesh,\r\n  DirectionalLight,\r\n  AmbientLight,\r\n  LineBasicMaterial,\r\n  Geometry,\r\n  Vector3,\r\n  Line,\r\n  SphereGeometry\r\n} from \"three-full\";\r\n\r\nVue.use(Vuex);\r\n\r\nconst getDefaultState = () => {\r\n  return {\r\n      width: 0,\r\n      height: 0,\r\n      camera: null,\r\n      controls: null,\r\n      scene: null,\r\n      renderer: null,\r\n      axisLines: [],\r\n      spheres: [],\r\n      sphereIdPlusFactor: 0,\r\n      sphereIdMinusFactor: 1\r\n  }\r\n}\r\n\r\nexport default new Vuex.Store({\r\n  state: {\r\n    width: 0,\r\n    height: 0,\r\n    camera: null,\r\n    controls: null,\r\n    scene: null,\r\n    renderer: null,\r\n    axisLines: [],\r\n    spheres: [],\r\n    sphereIdPlusFactor: 0,\r\n    sphereIdMinusFactor: 1\r\n  },\r\n  getters: {\r\n    CAMERA_POSITION: state => {\r\n      return state.camera ? state.camera.position : null;\r\n    }\r\n  },\r\n  mutations: {\r\n    RESET_STATE(state) {\r\n      for (const sphere of state.spheres) {\r\n        state.scene.remove(sphere);\r\n        delete sphere.geometry;\r\n        delete sphere.material;\r\n      }\r\n      Object.assign(state, getDefaultState());\r\n    },\r\n    SET_VIEWPORT_SIZE(state, { width, height }) {\r\n      state.width = width;\r\n      state.height = height;\r\n    },\r\n    INITIALIZE_RENDERER(state, el) {\r\n      if (!state.renderer) {\r\n        state.renderer = new WebGLRenderer({ antialias: true });\r\n        state.renderer.setPixelRatio(window.devicePixelRatio);\r\n        state.renderer.setSize(state.width, state.height);\r\n        el.appendChild(state.renderer.domElement);\r\n      }\r\n    },\r\n    INITIALIZE_CAMERA(state) {\r\n      state.camera = new PerspectiveCamera(\r\n        // 1. Field of View (degrees)\r\n        60,\r\n        // 2. Aspect ratio\r\n        state.width / state.height,\r\n        // 3. Near clipping plane\r\n        1,\r\n        // 4. Far clipping plane\r\n        1000\r\n      );\r\n      state.camera.position.z = 500;\r\n      \r\n      \r\n    },\r\n    INITIALIZE_CONTROLS(state) {\r\n      state.controls = new TrackballControls(\r\n        state.camera,\r\n        state.renderer.domElement\r\n      );\r\n      state.controls.rotateSpeed = 1.0;\r\n      state.controls.zoomSpeed = 1.2;\r\n      state.controls.panSpeed = 0.8;\r\n      state.controls.noZoom = false;\r\n      state.controls.noPan = false;\r\n      state.controls.staticMoving = true;\r\n      state.controls.dynamicDampingFactor = 0.3;\r\n      state.controls.keys = [65, 83, 68];\r\n    },\r\n    UPDATE_CONTROLS(state) {\r\n      state.controls.update();\r\n    },\r\n    INITIALIZE_SCENE(state) {\r\n      state.scene = null;\r\n      state.scene = new Scene();\r\n      state.spheres = [];\r\n      state.scene.background = new Color(0xcccccc);\r\n      /*\r\n      var material = new MeshPhongMaterial({\r\n        color: 0xffffff,\r\n        flatShading: true\r\n      });\r\n      */\r\n      let colors = [0x000000, 0xf00000, 0x00ff04, 0x005fff, 0xffffff];\r\n      let piece = state.pieces;\r\n      var geometry = new SphereGeometry(piece.size / 2, 32, 32);\r\n      let count = 0;\r\n      while (piece) {\r\n        let material = new MeshPhongMaterial({\r\n          color: colors[piece.color],\r\n          flatShading: true\r\n        });\r\n        var mesh = new Mesh(geometry, material);\r\n        [mesh.position.x, mesh.position.y] = piece.position;\r\n        (piece.position.length > 2) ? mesh.position.z = piece.position[2] : mesh.position.z = 12.5;\r\n        mesh.updateMatrix();\r\n        mesh.matrixAutoUpdate = false;\r\n        state.spheres.push(mesh);\r\n        piece.sphereIndex = count++;\r\n        piece = piece.tail;\r\n      }\r\n      state.scene.add(...state.spheres);\r\n\r\n        console.log(state.spheres)\r\n      // lights\r\n      var lightA = new DirectionalLight(0xffffff);\r\n      lightA.position.set(1, 1, 1);\r\n      state.scene.add(lightA);\r\n      var lightB = new DirectionalLight(0x002288);\r\n      lightB.position.set(-1, -1, -1);\r\n      state.scene.add(lightB);\r\n      var lightC = new AmbientLight(0x222222);\r\n      state.scene.add(lightC);\r\n\r\n      // Axis Line 1\r\n      var materialB = new LineBasicMaterial({ color: 0x0000ff });\r\n      var geometryB = new Geometry();\r\n      geometryB.vertices.push(new Vector3(0, 0, 0));\r\n      geometryB.vertices.push(new Vector3(0, 1000, 0));\r\n      var lineA = new Line(geometryB, materialB);\r\n      state.axisLines.push(lineA);\r\n\r\n      // Axis Line 2\r\n      var materialC = new LineBasicMaterial({ color: 0x00ff00 });\r\n      var geometryC = new Geometry();\r\n      geometryC.vertices.push(new Vector3(0, 0, 0));\r\n      geometryC.vertices.push(new Vector3(1000, 0, 0));\r\n      var lineB = new Line(geometryC, materialC);\r\n      state.axisLines.push(lineB);\r\n\r\n      // Axis 3\r\n      var materialD = new LineBasicMaterial({ color: 0xff0000 });\r\n      var geometryD = new Geometry();\r\n      geometryD.vertices.push(new Vector3(0, 0, 0));\r\n      geometryD.vertices.push(new Vector3(0, 0, 1000));\r\n      var lineC = new Line(geometryD, materialD);\r\n      state.axisLines.push(lineC);\r\n\r\n      state.scene.add(...state.axisLines);\r\n    },\r\n    RESIZE(state, { width, height }) {\r\n      state.width = width;\r\n      state.height = height;\r\n      state.camera.aspect = width / height;\r\n      state.camera.updateProjectionMatrix();\r\n      state.renderer.setSize(width, height);\r\n      state.controls.handleResize();\r\n      state.renderer.render(state.scene, state.camera);\r\n    },\r\n    SET_CAMERA_POSITION(state, { x, y, z }) {\r\n      if (state.camera) {\r\n        state.camera.position.set(x, y, z);\r\n      }\r\n    },\r\n    RESET_CAMERA_ROTATION(state) {\r\n      if (state.camera) {\r\n        state.camera.rotation.set(0, 0, 0);\r\n        state.camera.quaternion.set(0, 0, 0, 1);\r\n        state.camera.up.set(0, 1, 0);\r\n        state.controls.target.set(0, 0, 0);\r\n      }\r\n    },\r\n    HIDE_AXIS_LINES(state) {\r\n      state.scene.remove(...state.axisLines);\r\n      state.renderer.render(state.scene, state.camera);\r\n    },\r\n    SHOW_AXIS_LINES(state) {\r\n      state.scene.add(...state.axisLines);\r\n      state.renderer.render(state.scene, state.camera);\r\n    },\r\n    HIDE_spheres(state) {\r\n      state.scene.remove(...state.spheres);\r\n      state.renderer.render(state.scene, state.camera);\r\n    },\r\n    SHOW_spheres(state) {\r\n      state.scene.add(...state.spheres);\r\n      state.renderer.render(state.scene, state.camera);\r\n    },\r\n    SET_PIECES(state, piece) {\r\n      state.pieces = piece;\r\n    },\r\n    UPDATE_FRAME(state) {\r\n      let piece = state.pieces;\r\n      let colors = [0x000000, 0xf00000, 0x00ff04, 0x005fff, 0xffffff];\r\n      while (piece) {\r\n        let id = piece.sphereIndex;\r\n        [state.spheres[id].position.x, state.spheres[id].position.y] = [piece.position[0], piece.position[1]];\r\n        if (piece.position.length > 2)\r\n          state.spheres[id].position.z = piece.position[2];\r\n        if (piece.colorNeedsUpdating) {\r\n          state.spheres[id].material = new MeshPhongMaterial({\r\n            color: colors[piece.color],\r\n            flatShading: true\r\n          });\r\n          piece.colorNeedsUpdating = false;\r\n        }\r\n        state.spheres[id].updateMatrix();\r\n        piece = piece.tail;\r\n      }\r\n    },\r\n    RESIZE_PIECES(state, size) {\r\n      console.log('resize')\r\n      let piece = state.pieces;\r\n      let geometry = new SphereGeometry(size / 2, 32, 32);\r\n      while (piece) {\r\n        piece.resize(size);\r\n        let id = piece.sphereIndex;\r\n        state.spheres[id].geometry = geometry\r\n        piece = piece.tail;\r\n      }\r\n    },\r\n    REMOVE_UNIT(state) {\r\n      state.spheres[state.spheres.length - 1].visible = false;\r\n      state.spheres.pop();\r\n    },\r\n    ADD_UNIT(state, pieces) {\r\n      let piece = pieces\r\n      let color = 0x000000\r\n      var geometry = new SphereGeometry(piece.size / 2, 32, 32);\r\n        let material = new MeshPhongMaterial({\r\n          color: color,\r\n          flatShading: true\r\n        });\r\n        var mesh = new Mesh(geometry, material);\r\n        [mesh.position.x, mesh.position.y, mesh.position.z] = piece.position;\r\n        mesh.updateMatrix();\r\n        mesh.matrixAutoUpdate = false;\r\n        piece.\r\n        piece.sphereIndex = state.spheres.length;\r\n        state.spheres.push(mesh);\r\n    }\r\n  },\r\n  actions: {\r\n    INIT({ state, commit }, { width, height, el, piece }) {\r\n      return new Promise(resolve => {\r\n        commit(\"SET_VIEWPORT_SIZE\", { width, height });\r\n        commit(\"INITIALIZE_RENDERER\", el);\r\n        commit(\"INITIALIZE_CAMERA\");\r\n        commit(\"INITIALIZE_CONTROLS\");\r\n        \r\n        commit(\"SET_PIECES\", piece);\r\n        commit(\"INITIALIZE_SCENE\");\r\n\r\n        // Initial scene rendering\r\n        state.renderer.render(state.scene, state.camera);\r\n\r\n        // Add an event listener that will re-render\r\n        // the scene when the controls are changed\r\n        state.controls.addEventListener(\"change\", () => {\r\n          state.renderer.render(state.scene, state.camera);\r\n        });\r\n\r\n        resolve();\r\n      });\r\n    },\r\n    SET_PIECE({ state, commit }, { pieces, resize }) {\r\n      let reset = false;\r\n      if (state.pieces) {\r\n        if (state.pieces.id != pieces.id)\r\n          reset = true;\r\n        if (resize != -1)\r\n          commit(\"RESIZE_PIECES\", resize);\r\n      }\r\n      return new Promise(resolve => {\r\n        commit(\"SET_PIECES\", pieces, resize);\r\n        if (reset){\r\n          this.state.sphereIdPlusFactor += state.spheres.length;\r\n          commit(\"INITIALIZE_SCENE\");\r\n        }\r\n        resolve();\r\n      })\r\n    },\r\n    ANIMATE({ state, commit }) {\r\n      return new Promise(resolve => {\r\n        commit(\"UPDATE_FRAME\");\r\n        window.requestAnimationFrame(() => {\r\n          state.controls.update();\r\n        });\r\n        state.renderer.render(state.scene, state.camera);\r\n        resolve();\r\n      })\r\n    },\r\n    REMOVE_LAST_UNIT({ commit }, { pieces }) {\r\n      console.log(pieces)\r\n      return new Promise(resolve => {\r\n        commit(\"REMOVE_UNIT\", pieces);\r\n        resolve();\r\n      })\r\n    },\r\n    RESET_STATE({ commit }) {\r\n      return new Promise(resolve => {\r\n        commit(\"RESET_STATE\");\r\n        resolve();\r\n      })\r\n    }\r\n  }\r\n});","import Vue from 'vue'\r\nimport App from './App.vue'\r\nimport './registerServiceWorker'\r\nimport VueMaterial from 'vue-material'\r\nimport 'vue-material/dist/vue-material.min.css'\r\nimport 'vue-material/dist/theme/default.css'\r\n\r\nimport Vuex from 'vuex'\r\nimport store from './store.js'\r\nVue.use(Vuex)\r\n\r\nVue.use(VueMaterial);\r\nVue.config.productionTip = false\r\n\r\nnew Vue({\r\n  render: h => h(App),\r\n  store,\r\n}).$mount('#app')\r\n","module.exports = __webpack_public_path__ + \"img/white_bishop.ea87fdb6.png\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ViewPort.vue?vue&type=style&index=0&lang=css&\"","module.exports = __webpack_public_path__ + \"img/black_queen.e57aff20.png\";","module.exports = __webpack_public_path__ + \"img/black_king.d7cb8763.png\";","module.exports = __webpack_public_path__ + \"img/white_rook.5abb68d3.png\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BallDemo3DFlat.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ControlPanel.vue?vue&type=style&index=0&id=4e77f450&scoped=true&lang=css&\"","module.exports = __webpack_public_path__ + \"img/black_rook.019b2432.png\";","module.exports = __webpack_public_path__ + \"img/black_bishop.4a97bd76.png\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ViewPortNew.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}